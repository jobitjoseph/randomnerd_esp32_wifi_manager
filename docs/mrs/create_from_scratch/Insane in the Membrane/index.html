<!-- 
  Dutch was my Mothers & Fathers Language, Thats why
  i am not a programmer, most is If Then Else
  Did only Sleep At Lowest Possible Technical school
  so not well educated and my behavior is even worse
  Blah Blah Blah https://www.youtube.com/watch?v=mfJhMfOPWdE

goto ctrl+l does not work in plunkr ctrl+g
18711 begin resize window javascript (bookmark mark linenumber for JumpScroll ;-)

video demo Electric Storm
https://youtu.be/eC0tJmIl_lYG
https://youtu.be/sE039s35--s

i like http://plnkr.co

https://codepen.io/ldijkman/full/dymRoeR
https://jsfiddle.net/luberth/bg41yt52/
https://plnkr.co/plunk/ZEkhoGgs4ntDZzT0
https://electricstorm.w3spaces.com/index.html
https://ace-editor-electric-storm-jumpscroll-to-marked-linenumbers.luberthdijkman.repl.co/
https://electricstorm-ezald.run-eu-central1.goorm.io/ElectricStorm/index.html
http://electra-electric-storm.glitch.me


https://m.facebook.com/luberth.dijkman

********************************************************************************************

GitHub Flagged my account, likely i may not speak about Putin
Please ask Github Developer Support
  developer@githubsupport.com
to remove the Flag
https://github.com/ldijkman
https://ldijkman.github.io/Electra
they dont even show a Blocked / Flagged message

Please Free Electra
  ______               ______ _           _             
 |  ____|             |  ____| |         | |            
 | |__ _ __ ___  ___  | |__  | | ___  ___| |_ _ __ __ _ 
 |  __| '__/ _ \/ _ \ |  __| | |/ _ \/ __| __| '__/ _` |
 | |  | | |  __/  __/ | |____| |  __/ (__| |_| | | (_| |
 |_|  |_|  \___|\___| |______|_|\___|\___|\__|_|  \__,_|
                                                        
     Ask developer@githubsupport.com to Free Electra ?!    
    Electra is held hostage by github
    she is there, i can see her       
    ask guthub to host her for you  
    Easy program the ESP over USB from WebBrowser ESPwebtools browser Chrome WebSerial                                                      
********************************************************************************************
https://patorjk.com/software/taag/#p=testall&f=Graffiti&t=Free%20Electra

is it smart to load a million lines of javascript from a host for an texteditor
in this unstable world
fallback


looks like no javascript autocompletion suggestion snippets
when in html mode
howto mixed mode auto completion suggestion snippets HTML CSS JS (and maybe Electra %var% proccesing upload from ESP webserver)?


ace demo https://ace.c9.io/kitchen-sink.html
has an edit snippets button
but how to use and save the edited autocompletion suggestion snippets

if you want to add more paste examples to the paste button
search for  morepastes 
with ctrl+f 
and then enter 
and ctrl+g for next for option select list and next for function paste list 
to add more paste examples


mark linenumbers
 would like to use it for easy scrolling to marked linenumber positions in the document
 https://ourcodeworld.com/articles/read/1052/how-to-add-toggle-breakpoints-on-the-ace-editor-gutter
 mark/unmark gutter linenumbers with mouseclick 
 want to make a jump scroll button for easy scroll
 to marked line numbers 
 for easy code edit jumping 

     // if lines are inserted breakpoints cq marked lines should move
     // Move breakpoints as code changes. #1282
     // https://github.com/ajaxorg/ace/issues/1282

https://codepen.io/ldijkman/full/dymRoeR
https://jsfiddle.net/luberth/bg41yt52/

https://ldijkman.github.io/Electra/

ACE for ESP8266 ESP32 espasyncwebserver littlefs modifeid LOROL version of FSBrowser https://ldijkman.github.io/Electra/
https://www.google.com/search?q=ESP8266+ESP32

file tree listing save open etcetera is working on ESP8266 or ESP32 webserver
with espasyncwebserver and littlefs lash filesysten
a 2 euro webserver and can make it wifi relais/light switch timed schedule

button pretty beautiful pretty print Prettify Formatter format code
autocompletion suggestions  
    
screeenshot autocompletion suggestions
    https://raw.githubusercontent.com/ldijkman/randomnerd_esp32_wifi_manager/main/LAB_Experiments/2022-07-20-205657_1920x1080_scrot.png
   suggestions on / off buttons
     https://raw.githubusercontent.com/ldijkman/randomnerd_esp32_wifi_manager/main/LAB_Experiments/2022-07-20-210618_1920x1080_scrot.png

maybe ctrl+space to activate https://ace.c9.io/demo/autocompletion.html
now button pretty
     
     
Ace Electric Storm
Ajax.org Cloud9 Editor
Formerly known as Mozilla SkyWriter and forformerly codenamed as BeSpin

for ESP8266 ESP32 espasyncwebserver littlefs modifeid LOROL version of FSBrowser https://github.com/lorol/ESPAsyncWebServer

screenshot image 
https://raw.githubusercontent.com/ldijkman/randomnerd_esp32_wifi_manager/main/LAB_Experiments/2022-07-18-184503_1920x1080_scrot.png

https://github.com/ldijkman/randomnerd_esp32_wifi_manager/blob/main/LAB_Experiments/editor_onchange_preview_test.html

https://ldijkman.github.io/Electra/

save upload or create/copy this file (as *watheveryouwanttonameit* .html)
to your ESP8266 ESP32 espasync webserver LittleFS
will give you an ace js web/cloud editor with live HTML preview
not perfect but it works a bit
added button for opening in new tab
checbox for 50% edit and html peview or 100% edit
checkbox for reload preview on every keystroke or not
button for preview udate if checkbox keystroke is off
colorpicker with button to copy hexvalue
function update on editor textcontent change 
shows only changes after save button is pressed
reload on every key stroke
iframe shows html result
i am not handy with divs
would be nice if the source and preview divs are resizable by mouse drag
maybe a checkbox for preview panel on / off // checkbox for fulscreen eit and  50% edit-preview

would like to have another colorpicker addon in the code editor active on edited code
https://codepen.io/ldijkman/pen/LYdZpYp
-->

<!--
/*
<pre>
░█▀▀░█░░░█▀▀░█▀▀░▀█▀░█▀▄░▀█▀░█▀▀░░░█▀▀░▀█▀░█▀█░█▀▄░█▄█
░█▀▀░█░░░█▀▀░█░░░░█░░█▀▄░░█░░█░░░░░▀▀█░░█░░█░█░█▀▄░█░█
░▀▀▀░▀▀▀░▀▀▀░▀▀▀░░▀░░▀░▀░▀▀▀░▀▀▀░░░▀▀▀░░▀░░▀▀▀░▀░▀░▀░▀
Figlet font Pagga https://run.plnkr.co/plunks/ZEkhoGgs4ntDZzT0/ 
</pre>
*/
-->
		
<!DOCTYPE html>
<html lang="en">
<meta http-equiv="Content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=0.1">
<title>Electra's ESP Editor, Electric Storm</title>
<link rel="apple-touch-icon" href="/ace.ico" type="image/x-icon">
<link rel="shortcut icon" href="/ace.ico" type="image/x-icon">
<link rel="icon" href="/ace.ico" type="image/x-icon">

<!--
███████ ████████ ██    ██ ██      ███████     
██         ██     ██  ██  ██      ██          
███████    ██      ████   ██      █████       
     ██    ██       ██    ██      ██          
███████    ██       ██    ███████ ███████     
                                            
-->

<style type="text/css" media="screen">
  label {
    font-size: 12px;
    font-family: sans-serif
  }

  .cm {
    z-index: 300;
    position: absolute;
    left: 5px;
    border: 1px solid #444;
    background-color: #f5f5f5;
    display: none;
    box-shadow: 0 0 10px rgba(0, 0, 0, .4);
    font-size: 12px;
    font-family: sans-serif;
    font-weight: 700
  }

  .cm ul {
    list-style: none;
    top: 0;
    left: 0;
    margin: 0;
    padding: 0
  }

  .cm li {
    position: relative;
    min-width: 60px;
    cursor: pointer
  }

  .cm span {
    color: #444;
    display: inline-block;
    padding: 6px
  }

  .cm li:hover {
    background: #444
  }

  .cm li:hover span {
    color: #eee
  }

  .tvu li,
  .tvu ul {
    padding: 0;
    margin: 0;
    list-style: none
  }

  .tvu input {
    position: absolute;
    opacity: 0;
  }

  .tvu {
    font: 400 12px Verdana, Arial, Sans-serif;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    color: #444;
    line-height: 16px
  }

  .tvu span {
    margin-bottom: 5px;
    padding: 0 0 0 18px;
    cursor: pointer;
    display: inline-block;
    height: 16px;
    vertical-align: middle;
    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAADoSURBVBgZBcExblNBGAbA2ceegTRBuIKOgiihSZNTcC5LUHAihNJR0kGKCDcYJY6D3/77MdOinTvzAgCw8ysThIvn/VojIyMjIyPP+bS1sUQIV2s95pBDDvmbP/mdkft83tpYguZq5Jh/OeaYh+yzy8hTHvNlaxNNczm+la9OTlar1UdA/+C2A4trRCnD3jS8BB1obq2Gk6GU6QbQAS4BUaYSQAf4bhhKKTFdAzrAOwAxEUAH+KEM01SY3gM6wBsEAQB0gJ+maZoC3gI6iPYaAIBJsiRmHU0AALOeFC3aK2cWAACUXe7+AwO0lc9eTHYTAAAAAElFTkSuQmCC) no-repeat;
    background-position: 0 0;
  }

  .tvu span:hover {
    text-decoration: underline
  }

  @media screen and (-webkit-min-device-pixel-ratio:0) {
    .tvu {
      -webkit-animation: webkit-adjacent-element-selector-bugfix infinite 1s
    }

    @-webkit-keyframes webkit-adjacent-element-selector-bugfix {
      from {
        padding: 0
      }

      to {
        padding: 0
      }
    }
  }

  #uploader {
    position: absolute;
    top: 0;
    right: 0;
    left: 0;
    height: 48px;
    line-height: 24px;
    padding-left: 10px;
    background-color: #444;
    color: #eee;
    //resize: both;
  }
 Ask developer@githubsupport.com to Free Electra ?!  
  #tree {
    position: absolute;
    top: 48px;
    bottom: 0;
    left: 0;
    //border:1px solid red;
    width:100px;
    padding: 8px;
     background-color: lightgrey;
    //resize: both;
  }
/*
  #editor,
  #preview {
    position: absolute;
    top: 48px;
    right: 0;
    bottom: 0;
    left: 120px;
    border-left: 1px solid #eee;
    resize: both;
  } Ask developer@githubsupport.com to Free Electra ?!  

  #preview {
    background-color: #eee;
    padding: 5px;
    resize: both;
  }
*/
  #loader {
    position: absolute;
    top: 36%;
    right: 40%
  }

  .loader {
    z-index: 10000;
    border: 8px solid #b5b5b5;
    border-top: 8px solid #3498db;
    border-bottom: 8px solid #3498db;
    border-radius: 50%;
    width: 240px;
    height: 240px;
    animation: spi Ask developer@githubsupport.com to Free Electra ?!  n 2s linear infinite;
    display: none Ask developer@githubsupport.com to Free Electra ?!  
  }

  @keyframes spin {
    0% {
      transform: rotate(0)
    }

    100% {
      transform: rotate(360deg)
    }
  }
</style>

<style>
  body {
    font-family: 'Roboto', sans-serif;
    background-color: whitesmoke;
  }

  .p1,
  .header {
    font-size: 32px;
    text-align: center;
  }

  .button {
    text-align: center;
    font-size: 16px;
    justify-content: center;
    align-items: center;
  }

  .p2 {
    text-align: left;
    font-size: 24px;
  }

  html,
  body {
    margin: 0;
    padding: 0;
    height: 100%;
    width: 100%;
    ooverflow: hidden;
  }

  #editor {
    /*
    height: 95%;
    width: 50%;
    display: inline-block;
    border: 1px solid black;
*/
  position: absolute;
  left: 100px;
  top: 50px;
  //bottom: 0;
  right: 45%;
  height: 100%;
  // background: skyblue;
  // color: red;
  //width: ;
  resize: both;
  }

  #container {
/*
    height: 100%;
    width: auto;

*/    white-space: nowrap;
    ooverflow: hidden;
    position: relative;
    width:100%;
    height:100%;
    background:#000;
   // opacity:0.8;
    //background:rgba(255,255,255,0.8); or just this*/
   // z-index:50;
   // color:#fff;
    resize: both;
    
  }

  #iframediv {
    /*
    float: right;
    margin-top: 48px;
    height: 100%;
    width: 58%;
    display: inline-block;
    border: 1px solid black;
   */
  

  position: absolute;
  right: 0;
  top: 50px;
  //bottom: 0;
  width:45%;
  height: 100%;
  color: #fff;
  background: purple;
  resize: both;
  overflow:hidden;
  }

  #iframe {
    top: 48px;
    height: 82%;
    width: 100%;
    display: inline-block;
  resize: both;
  }

#drag {
  position: absolute;
  left: -5px;
  top: 0;
  bottom: 0;
  width: 10px;
  cursor: ew-resize;
  ////  background:rgba(255,255,255,0.8);
   // opacity:0.8;
   background: darkgrey;
   oopacity:0.5;
}


  /*
        try to change the selection or highlight searh color
        hard to see the selected in standard setting
    */
  .ace-monokai .ace_marker-layer .ace_selection {
    
     background: rgba(255,255,0,0.5);;
    border: 1px solid #FFFC18FF;
   
    /*padding-left: 0px;padding-right: 0px;padding-top: 1px;padding-bottom: 1px;*/
  }

  .ace_editor .ace_marker-layer .ace_bracket {
  
   background: rgba(255,255,0,0.5);;
    border: 1px solid #FFFC18FF;
    
    /*padding-left: 0px;padding-right: 0px;padding-top: 1px;padding-bottom: 1px;*/
  }

  .color {
    color: orange;
  }

  .overlay {
    position: fixed;
    top: 0;
    bottom: 0 left: 0;
    right: 0;
    background: rgba(0, 0, 0, 0.7);
    transition: opacity 500ms;
    visibility: hidden;
    opacity: 0;
    z-index: 199;
  }

  .overlay:target {
    visibility: visible;
    opacity: 1;
  }

  .popup {
    margin: 70px auto;
    padding: 20px;
    background: #fff;
    border-radius: 5px;
    width: 400px;
    position: relative;
    transition: all 5s ease-in-out;
  }

  .popup h2 {
    margin-top: 0;
    color: #333;
    font-family: Tahoma, Arial, sans-serif;
  }

  .popup .close {
    position: absolute;
    top: 20px;
    right: 30px;
    transition: all 200ms;
    font-size: 30px;
    font-weight: bold;
    text-decoration: none;
    color: #333;
  }

  .popup .close:hover {
    color: #06D85F;
  }

  .popup .content {
    max-height: 30%;
    overflow: auto;
  }

  @media screen and (max-width: 700px) {
    .box {
      width: 70%;
    }

    .popup {
      width: 70%;
    }
  }

  .ace_marker-layer .ace_selected-word {
    border: 1px solid #13FF10C1
  }

  /*mark unmark line numbers on gutter for easy code edit jump scrolling */
  .ace_gutter-cell.ace_breakpoint {
    border-radius:  20px 0px 0px 20px;
    box-shadow: 0px 0px 1px 1px #248c46 inset;
    background-color: yellow;
    //opacity: 0.6;  /* transperency of marked line and up down buttons,  hmm looks like tranperency also make the button listen bad to clicks
    */
  }

  .ace_tooltip {
    /* auto completion suggestion snippet */
    background-color: black;
    color: grey;
    font-size: 12px;
  }

  .mydivouter {
    position: relative;
  }

  .mydivoverlap {
    position: relative;
    z-index: 1000;
  }

  .mybuttonoverlap {
    position: absolute;
    z-index: 2000;
    top: -40px;
    //display: none;
    left: -25px;
  }

  .mybuttonoverlap2 {
    position: absolute;
    z-index: 2000;
    top: -1px;
    //display: none;
    left: -25px;
  }

  .mydivouter:hover .mybuttonoverlap {
    display: block;
  }

  .mydivouter:hover .mybuttonoverlap2 {
    display: block;
  }
        .mydiv {
         position: relative;
        display: none;
        background-color: salmon;
        color: white;
      }




#mydivmenu {
  border-radius: 8px 8px 4px 4px;
  width: 250px;
  height: 250px;
  z-index: 9;
  position: absolute;
  min-width: 200px;
  min-height: 350px;
  //background-color: transparent;
   //resize: both;
     //overflow: auto;
}

#mydivheader {     // drag float menu 
 
  border-radius: 6px 6px 3px 3px;
  border-color: #000;
  border-style: solid;
  border-width: 1px;
  top: 200px;   
  left: 200px;   /* holds drag float menu position */
  color: lightgray;
  width: calc(100% - 2px);
  cursor: move;
  height: 20px;
  z-index: 10;
  position: relative;
  background-color: blue;
  // resize: both;
  // overflow: auto;
}

#menucontent { // drag float menu
  color:black;
  border-radius: 0 0 6px 6px;
  border-color: #000;
  border-style: none solid solid solid;
  border-width: 1px;
  position: relative;
  z-index: 11;
  top: 200px;   
  left: 200px;   /* holds drag float menu position */
  width: 250px;//calc(100% - 4px);
  min-width: 250px;
  max-width: 250px;
  //filter: blur(1px);
  height: 350; //calc(100% - 2px);
  min-height: 250px;
  //filter: drop-shadow(14px 24px 4px rgba(0, 0, 0, 0.4));
  background-color: gray; 
  /*scrolling:0; // i do not know  */
  resize: both;
  overflow: auto;
}

  #minimapeditor {
position:absolute;
left:50%;
top:45px;
  width: 150px;
  height: 100%;
  background-color:black;
  border: solid;
  //border:1px;
 border-color:darkgrey;
 z-index: 10;
 }


  #htmltaglist, #csstaglist, #javascripttaglist, #arduinotaglist{ 
    /* mutiple div id with same css */
position:absolute;
left:50px;
top:80%;
  width: 50%;
  height: 120px;
  background-color:black;
  color:lightgray;
  border: solid;
 
  border-color: #3C3D38;
 
 z-index: 20;
  resize:both ;
  overflow: auto;
  -webkit-user-drag: element;
  display:none;
 }




  #figletgenerator {
position:absolute;
left:50px;
top:55%;
  width: 50%;
  height: 190px;
  background-color:black;
  color:lightgray;
 border: solid;
 
  border-color: #3C3D38;
 z-index: 20;
  resize:both ;
  overflow: auto;
  -webkit-user-drag: element;
 }

  #tablegenerator {
position:absolute;
left:50px;
top:40%;
  width: 70%;
  height: 400px;
  background-color:#CFDFFFFF;
  color:cobalt;
  border: solid;
  //border:1px;
 border-color:black;
 z-index: 20;
  resize:both ;
  overflow: auto;
  -webkit-user-drag: element;
  visibility: visible;
 }

</style>
<!--
<pre>
    ██ ███████ ████████ ██    ██ ██      ███████ 
   ██  ██         ██     ██  ██  ██      ██      
  ██   ███████    ██      ████   ██      █████   
 ██         ██    ██       ██    ██      ██      
██     ███████    ██       ██    ███████ ███████ 
                                                 
                                                 
</pre>
-->
<!--
AceEditor ColorPicker AddOn
https://codepen.io/easylogic/pen/RwVOGed
I made a colorpicker for ace editor. #4725
easylogic started this conversation in Ideas
https://github.com/ajaxorg/ace/discussions/4725

-->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ace-colorpicker@0.0.12/addon/ace-colorpicker.css" />
<!--
script is now in js edit 

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/ace-colorpicker@0.0.12/addon/ace-colorpicker.min.js" ></script> 
<script type="text/javascript" src="https://ldijkman.github.io/Electra/ace-colorpicker-min.js" ></script> 

-->

<!--
https://codepen.io/ldijkman/pen/LYdZpYp

button bar colorpicker
-->
<script type="text/javascript" src="https://jscolor.com/release/2.4/jscolor-2.4.8/jscolor.js"></script>
<!--  <script type="text/javascript" src="https://ldijkman.github.io/Electra/jscolor.js" ></script>  -->

<script>


/////////////////////////////////////////////////////////////
/* Show "Are you sure to leave?" Dialog Box */

// Alternate Way of doing same thing
window.onbeforeunload = () => {
  return true;
};
//////////////////////////////////////////////////////////////






  
  ////////////////////////////////////////////////////////////////////
  // luberth => i think next should be here, it is missing in the lorol fsbrowser
  https: //github.com/lorol/ESPAsyncWebServer/blob/master/examples/ESP_AsyncFSBrowser/data/edit_gz
    ////////////////////////////////////////////////////////////////////
    /* 
      FSBrowser - A web-based FileSystem Browser for ESP8266 filesystems
      Copyright (c) 2015 Hristo Gochkov. All rights reserved.
      This file is part of the ESP8266WebServer library for Arduino environment.
      This library is free software; you can redistribute it and/or
      modify it under the terms of the GNU Lesser General Public
      License as published by the Free Software Foundation; either
      version 2.1 of the License, or (at your option) any later version.
      This library is distributed in the hope that it will be useful,
      but WITHOUT ANY WARRANTY; without even the implied warranty of
      MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
      Lesser General Public License for more details.
      You should have received a copy of the GNU Lesser General Public
      License along with this library; if not, write to the Free Software
      Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
      See readme.md for more information.
    */
    // https://github.com/esp8266/Arduino/tree/master/libraries/ESP8266WebServer/examples/FSBrowser
    var marked_line_nr_array = []; // array that holds marked linenumbers on gutter for jumpscrolling
  function loadpick() {
    console.log("load colorpicker now in function loadpick");
    window.editor = ace.edit("editor");
    AceColorPicker.load(ace, editor);
  }

var doitone=0;

function myTimer() {    
//console.log ("doitonce ",doitone);

// do not know where to strart the minimapeditor
// do it here once
if(doitone != 1){
  var minimapeditor = ace.edit("minimapeditor");
  minimapeditor.setTheme("ace/theme/monokai");
  minimapeditor.setFontSize(4);
  minimapeditor.setShowPrintMargin(false);
  minimapeditor.renderer.setShowGutter(false);
  minimapeditor.setReadOnly(true);
  minimapeditor.renderer.setOption('showLineNumbers', false);  
  editor.setOption("showPrintMargin", false); 
  minimapeditor.session.setMode("ace/mode/html");
  console.log ("doitonce doing minimap ace",doitone);
  doitone=1;
  console.log ("doitonce doing minimap ace",doitone);
 // setTimeout(myTimer, 10000);
}
 //console.log ("doitonce ",doitone);
  
  ace.edit("minimapeditor").setValue(ace.edit("editor").getSession().getValue());
  ace.edit("minimapeditor").selection.clearSelection();

  console.log ("myTimer update minimap, would like to update less maybe something like cleartimer");
  // get linenumeber on minimap mouseclick

   ace.edit("minimapeditor").on('mousedown', () => {
         
       // var cursor = minimapeditor.getCursorPosition();
    var cursorrow = ace.edit("minimapeditor").getCursorPosition().row;
     var cursorcolumn = ace.edit("minimapeditor").getCursorPosition().column;
    //var cursorPos = $scope.editor.getCursorPosition()
    
    // move cursorr big editor to cursor pos minimapeditor
    ace.edit("editor").gotoLine(cursorrow,cursorcolumn);
    ace.edit("editor").moveCursorTo(cursorrow,cursorcolumn);
    console.log("getcursor row",cursorrow );
 });

  ace.edit("minimapeditor").on('mouseup', () => {
  ace.edit("editor").focus(); //To focus the ace editor
  ace.edit("editor").renderer.$cursorLayer.showCursor(); // sometimes gives back a blinking cursor

  //const collection = document.getElementsByClassName("ace_gutter-cell ");
  //console.log("collection[0] ",collection[0]);
});
}






  function update(e) {
   clearTimeout(myTimer);
 setTimeout(myTimer, 10000);

          // i do not know == want a title message on gutter cell if marked
          // maybe even an hover popup with up down scroll ling to previous / next marked line

var nodeList = document.querySelectorAll(".ace_gutter-cell");
 // console.log("nodeList ",nodeList);
for (let i = 0; i < nodeList.length; i++) {
  // console.log("nodeList.length ",nodeList.length);
  nodeList[i].setAttribute("title", (i+1)+" Mark UnMark a line by mouseclick \n use jump button\n to JumpScroll to marked lines  \n\nmaybe an up down image link here if marked");
}


    /*
        if lines are inserted / removed breakpoints cq marked lines should move
        Move breakpoints as code changes. #1282
        https://github.com/ajaxorg/ace/issues/1282

        maybe save marked linenumbers array as comment on first line of document for later use
        maybe even a tag for auto loading marked linennumbers on document load
    */
        if (e.lines.length > 1 && (e.action==='insert' || e.action==='remove')){
          
          const amountOfLinesAffected = e.lines.length - 1;
		      const startRow = e.start.row;
		      const endRow = e.end.row;
          console.log("amountOfLinesAffected ",amountOfLinesAffected);
          console.log("startRow ",startRow);
           console.log("endRow ",endRow);

    // should be 
    // if inserte then markelinevalue > startrow 
    // then markedlinevalue = markedlinevalue + amountOfLinesAffected
    // if remove then markelinevalue <= startrow 
    // then markedlinevalue = markedlinevalue - amountOfLinesAffected

    // else markedlinevalue = markedlinevalue // stays the same

          if(e.action==='insert'){
            console.log("line inserted",e);
          }
          if(e.action==='remove'){
            console.log("line removed",e);
          }
        }

 

    if (document.getElementById("Preview").checked) {
      var idoc = document.getElementById('iframe').contentWindow.document;
      idoc.open();
      idoc.write(ace.edit("editor").getValue());
      //console.log(ace.edit("editor").getValue());
      idoc.close();
    }

// https://github.com/ajaxorg/ace/issues/2453
// ctrl click on link/url in editor opens in new window
    window.editor.on("linkClick",function(data){
  console.log("CLICK", data); // Just for testing so you can see what classes things are...
  if(data && data.token && data.token.type == "text.xml"|| data.token.type=="string.attribute-value.xml"){  //type was link changed it to text.xml
    window.open(data.token.value, "_blank");
    console.log("jaja hiero linkclick data.token.value ",data.token.value);
    console.log("jaja hiero linkclick data.token.type ",data.token.type);
  }
});
    // mark line numbers on gutter by mouseclick  
    // want to make an up/down button to fast easy jump to marked linesnumbers     
    // https://ourcodeworld.com/articles/read/1052/how-to-add-toggle-breakpoints-on-the-ace-editor-gutter
    window.editor.on("guttermousedown", function(e) {
      // marked_line_nr_array=[];
      var target = e.domEvent.target;
      if (target.className.indexOf("ace_gutter-cell") == -1)
        return;
      if (!editor.isFocused())
        return;
      // console.log(e.clientX > 25 + target.getBoundingClientRect().left);
      // console.log(e.clientX, 25 + target.getBoundingClientRect().left);
      if (e.clientX > 35 + target.getBoundingClientRect().left)
        return;
      var breakpoints = e.editor.session.getBreakpoints(row, 0);
      //console.log("breakpoints",breakpoints);
      //console.log("breakpoints",breakpoints(3));
      var row = e.getDocumentPosition().row;
      if (typeof breakpoints[row] === typeof undefined) {
        e.editor.session.setBreakpoint(row); // mark
        // i do not now how this works, i make my own array of marked lines
        marked_line_nr_array.push(row + 1); // add marked linenunmber=row to array 
        // console.log("marked_line_nr_array",marked_line_nr_array);

// https://stackoverflow.com/questions/6840326/how-can-i-create-and-style-a-div-using-javascript
const div = document.createElement('div');

div.innerHTML = `<button type="button" title="scrollup to previous marked line &#010;not working but maybe you understand the idea&#010;prints to console if up or down is pressed&#010;&#010;works a bit now upto line 50 and no windowscroll" style="font-size: 10px;color:yellow;background:#50504B;" onclick="goup(`+row+`)" class="mybuttonoverlap btn btn-info">&#11165;</button>
  <button type="button" title="scrolldown
    to next marked line &#013;not working but maybe you understand the idea&#013;prints to console if up or down is pressed&#010;&#010;works a bit now upto line 50 and no windowscroll"  style="font-size: 10px;color:yellow;background:#50504B;" onclick="godown(`+row+`)" class="mybuttonoverlap2 btn btn-info">&#11167;</button>`;
    



var testtext = `<div class="mydivouter"><button type="button" title="scrollup to previous marked line &#010;not working but maybe you understand the idea&#010;prints to console if up or down is pressed" style="font-size: 10px;color:yellow;background:#50504B;" onclick="goup()" class="mybuttonoverlap btn btn-info">&#11165;</button>
  <button type="button" title="scrolldown
    to next marked line &#013;not working but maybe you understand the idea&#013;prints to console if up or down is pressed"  style="font-size: 10px;color:yellow;background:#50504B;" onclick="godown()" class="mybuttonoverlap2 btn btn-info">&#11167;</button></div>`;
    

// set style
div.style.float = 'left';
//div.style.background ="";
//div.style.padding ="1px";
//div.style.margin ="1px";
//div.style.border = "";
// better to use CSS though - just set class

div.setAttribute('id','buttest_'+row); // and make sure myclass has some styles in css
div.setAttribute('class', 'mydivouter '+row);

//div.setAttribute('title', 'i am lost do not know hat i am doing');
 //var clone  = menu.cloneNNode(mydivouter);
//const List = document.querySelector('.ace_gutter-cell ');
//List.[row].appendChild(div);
var nodeList = document.querySelectorAll(".ace_gutter-cell ");
nodeList[row].appendChild(div);

//document.getElementsByClassName("ace_gutter-cell")[row].appendChild(div);  //adds the div 
// why is it not inserted at the rifght place above line 50
//document.getElementsByClassName("ace_gutter-cell")[row].innerHTML=testtext;

console.log("row ",row);

//document.getElementById("gutter").appendChild(divElement);






      } else {
        e.editor.session.clearBreakpoint(row); // unmark
        //e.stop(); 


// remove the up down buttons div
        const list = document.getElementsByClassName("ace_gutter-cell")[row];
        list.removeChild(list.firstElementChild);
         
        var myIndex = marked_line_nr_array.indexOf(row + 1); // find possition previous marked now unmarked linenumber=row  in array
        if (myIndex !== -1) {
          marked_line_nr_array.splice(myIndex, 1); // remove unmarked linenunmber=row from array 
        }
        //console.log("marked_line_nr_array",marked_line_nr_array);
      }
    })
    // if lines are inserted breakpoints cq marked lines should move
    // Move breakpoints as code changes. #1282
    // https://github.com/ajaxorg/ace/issues/1282
          

          
  }
  var ii = 0;

  function jumpmarkedlinesf() {
    marked_line_nr_array.sort(function(a, b) {
      return a - b;
    }); // sort the array marked lines nubers by value
    // numerically following order ascending???
    console.log("ii", ii);
    ace.edit("editor").scrollToLine(marked_line_nr_array[ii], true, true, );
    ace.edit("editor").gotoLine(marked_line_nr_array[ii], 0, true);
    console.log("just jumped to line ", marked_line_nr_array[ii]);

   
    ace.edit("editor").focus();
    ii++;
    if (ii >= marked_line_nr_array.length) {
      ii = 0;
    }
    console.log("marked_line_nr_array", marked_line_nr_array);
    console.log("marked_line_nr_array.length", marked_line_nr_array.length);
  }

  function updatefrombutton() {
    var idoc = document.getElementById('iframe').contentWindow.document;
    idoc.open();
    idoc.write(ace.edit("editor").getValue());
    //console.log(ace.edit("editor").getValue());
    idoc.close();
    document.getElementById("save").setAttribute("title", "Save file to ESP LittleFS");
  }

  function ge(e) {
    return document.getElementById(e)
  }

  function ce(e) {
    return document.createElement(e)
  }

  function sortByKey(e, t) {
    return e.sort((function(e, n) {
      var a = e[t],
        i = n[t];
      return i > a ? -1 : a > i ? 1 : 0
    }))
  }

  function createFileUploader(e, t, n) {
    var a = /(iPhone)*(OS ([7-9]|1[0-1])_)/i.test(navigator.userAgent);

    function i(e, n) {
      200 != e ? alert("ERROR[" + e + "]: " + n) : t.refreshPath(d.value)
    }
       var o = ce("button");
        o.style = "background-color:yellow;"; // i do not know how to add text to top 
    o.innerHTML = "Top Menu is for ESP Webserver", ge(e).appendChild(o);
    var o = ce("button");
    o.innerHTML = "Root Dir", ge(e).appendChild(o);
    var c = ce("input");
    c.type = "file", c.multiple = !1, c.name = "data", c.id = "upload-select", ge(e).appendChild(c);
    var d = ce("input");
    d.id = "upload-path", d.type = "text", d.name = "path", d.defaultValue = "/", ge(e).appendChild(d);
    var s = ce("button");
    s.innerHTML = "Upload", ge(e).appendChild(s);
    var r = ce("button");
    r.innerHTML = "Create", ge(e).appendChild(r);
    var l = ce("input");
    l.id = "editor-filename", l.type = "text", l.disabled = !0, l.size = 20, ge(e).appendChild(l);
    var u = ce("input");
    u.id = "ipad-fix", u.title = "i have no idea what this checkbox does", u.name = "ipad-fix", u.type = "checkbox", u.checked = !!a;
    var p = ce("label");
    p.for = u.id, p.innerHTML = " Alt?.";
    var m = ce("button");
    m.innerHTML = " Save ", m.id = "save", m.title = "Save file to ESP LittleFS", ge(e).appendChild(m), ge(e).appendChild(p), ge(e).appendChild(u), r.onclick = function(e) {
      (function(e) {
        var t = new FormData;
        t.append("path", e), requests.add("PUT", "/edit", t, i)
      })(d.value), n.loadUrl(d.value), d.value = "/"
    }, m.onclick = function(e) {
      if (u.checked) {
        var t = ace.edit("editor").getValue(),
          a = new FormData;
        a.append("rawname", l.value);
        var o = 0;
        const e = 4096;
        for (var c = 0; c < t.length; c += e) {
          var d = t.substring(c, c + e);
          a.append("raw" + o, d), o++
        }
        requests.add("POST", "/edit", a, i)
      } else n.execCommand("saveCommand")
    }, o.onclick = function(e) {
      t.refreshPath(d.value)
    }, s.onclick = function(e) {
      if (0 !== c.files.length) {
        var t = new FormData;
        t.append("data", c.files[0], d.value), requests.add("POST", "/edit", t, i), ge("upload-path").value = "/", ge("upload-select").value = ""
      }
    }, c.onchange = function(e) {
      if (0 !== c.files.length) {
        var t = c.files[0].name,
          n = /(?:\.([^.]+))?$/.exec(t)[1],
          a = /(.*)\.[^.]+$/.exec(t)[1];
        void 0 !== typeof a && (t = a), d.value = "/" + t + "." + n
      }
    }
  }

  function createTree(e, t) {
    function n(e) {
      ge("editor-filename").value = e, ge("editor").style.display = "none",
        p.style.display = "block", p.innerHTML = '<img src="/edit?edit=' + e + "&_cb=" + Date.now() + '" style="max-width:100%; max-height:100%; margin:auto; display:block;" />'
    }

    function a(e, a) {
      var i = ce("ul");
      e.appendChild(i);
      var o = ce("li");
      i.appendChild(o), s(a) ? (o.innerHTML = "<span>Preview</span>", o.onclick = function(t) {
        n(a), document.body.getElementsByClassName("cm").length > 0 && document.body.removeChild(e)
      }) : d(a) && (o.innerHTML = "<span>Edit</span>", o.onclick = function(n) {
        t.loadUrl(a), document.body.getElementsByClassName("cm").length > 0 && document.body.removeChild(e)
      });
      var l = ce("li");
      i.appendChild(l), d(a) || s(a) || function(e) {
        var t = /(?:.([^.]+))?$/.exec(e)[1];
        if (void 0 !== typeof t) switch (t) {
          case "ico":
          case "gz":
          case "zip":
          case "wav":
          case "mp3":
          case "pdf":
            return !0
        }
        return !1
      }(a) ? (l.innerHTML = "<span>Download</span>", l.onclick = function(t) {
        (function(e) {
          ge("download-frame").src = "/edit?download=" + e
        })(a), document.body.getElementsByClassName("cm").length > 0 && document.body.removeChild(e)
      }) : c(a) && (i.appendChild(l), l.innerHTML = "<span>ChDir</span>", l.onclick = function(t) {
        m.removeChild(m.childNodes[0]), u(m, a), document.body.getElementsByClassName("cm").length > 0 && document.body.removeChild(e)
      });
      var p = ce("li");
      i.appendChild(p), p.innerHTML = "<span>Delete</span>", p.onclick = function(t) {
        r(a), document.body.getElementsByClassName("cm").length > 0 && document.body.removeChild(e)
      }
    }

    function i(e, t, n) {
      var i = ce("div"),
        o = document.body.scrollTop ? document.body.scrollTop : document.documentElement.scrollTop,
        c = document.body.scrollLeft ? document.body.scrollLeft : document.documentElement.scrollLeft,
        d = e.clientX + c,
        s = e.clientY + o;
      i.className = "cm", i.style.display = "block", i.style.left = d + "px", i.style.top = s + "px", a(i, t), document.body.appendChild(i);
      var r = i.offsetWidth,
        l = i.offsetHeight;
      i.onmouseout = function(e) {
        (e.clientX < d || e.clientX > d + r || e.clientY < s || e.clientY > s + l) && document.body.getElementsByClassName("cm").length > 0 && document.body.removeChild(i)
      }
    }

    function o(e, a, o) {
      var r = ce("li");
      r.id = a;
      var l = ce("span");
      return l.innerHTML = a, r.appendChild(l), r.onclick = function(e) {
        d(r.id.toLowerCase()) ? t.loadUrl(r.id) : s(r.id.toLowerCase()) ? n(r.id) : c(r.id) && (m.removeChild(m.childNodes[0]) && u(m, r.id.toLowerCase()))
      }, r.oncontextmenu = function(e) {
        e.preventDefault(), e.stopPropagation(), i(e, r.id)
      }, r
    }

    function c(e) {
      return -1 == e.indexOf(".")
    }

    function d(e) {
      var t = /(?:.([^.]+))?$/.exec(e)[1];
      if (void 0 !== typeof t) switch (t) {
        case "txt":
        case "htm":
        case "html":
        case "js":
        case "css":opacity: 0.5;
        case "xml":
        case "json":
        case "conf":
        case "ini":
        case "h":
        case "c":
        case "cpp":
        case "php":
        case "hex":
        case "ino":
        case "pde":
          return !0
      }
      return !1
    }

    function s(e) {
      var t = /(?:.([^.]+))?$/.exec(e)[1];
      if (void 0 !== typeof t) switch (t) {
        case "png":
        case "jpg":
        case "gif":
        case "bmp":
          return !0
      }
      return !1
    }

    function r(e) {
      var t = new FormData;
      t.append("path", e), requests.add("DELETE", "/edit", t, (function(e, t) {
        200 != e ? alert("ERROR[" + e + "]: " + t) : (m.removeChild(m.childNodes[0]), u(m, "/"))
      }))
    }

    function l(e, t) {
      return function(t, n) {
        200 == t && function(e, t, n) {
          sortByKey(n, "name");
          var a = ce("ul");
          e.appendChild(a);
          for (var i = n.length, c = 0; i > c; c++) "file" === n[c].type && a.appendChild(o(0, n[c].name, n[c].size))
        }(e, 0, JSON.parse(n))
      }
    }

    function u(e, t) {
      requests.add("GET", "/edit", {
        list: t
      }, l(e))
    }
    var p = ge("preview"),
      m = ce("div");
    return m.className = "tvu", ge(e).appendChild(m), this.refreshPath = function(e) {
      m.removeChild(m.childNodes[0]), u(m, "/")
    }, u(m, "/"), this
  }

  function createEditor(e, t, n, a, i) {
    function o(e) {
      var t = "plain",
        n = /(?:.([^.]+))?$/.exec(e)[1];
      if (void 0 !== typeof n) switch (n) {
        case "txt":
        case "hex":
        case "conf":
          t = "plain";
          break;
        case "htm":
          t = "html";
          break;
        case "js":
          t = "javascript";
          break;
        case "h":
        case "c":
        case "cpp":
          t = "c_cpp";
          break;
        case "css":
        case "scss":
        case "php":
        case "html":
        case "json":
        case "xml":
        case "ini":
          t = n
      }
      return t
    }

    function c(e, t) {
      200 != e && alert("ERROR[" + e + "]: " + t)
    }

    function d(e, t) {
      ge("preview").style.display = "none",
        ge("editor").style.display = "block",
        200 == e ? s.setValue(t) : s.setValue(""), s.clearSelection()
    }
    void 0 === t && (t = "/schedule.html"),
      void 0 === n && (n = o(t)),
      void 0 === a && (a = "monokai"),
      void 0 === i && (i = "text/" + n, "c_cpp" === n && (i = "text/plain"));
    var s = ace.edit(e);
    return "plain" !== n &&
      s.session.setMode("ace/mode/" + n, function() {
        loadpick()
      }),
      s.setTheme("ace/theme/" + a),
      s.$blockScrolling = 1 / 0,
      s.getSession().setUseSoftTabs(!0),
      s.getSession().setTabSize(2),
      s.getSession().setUseWorker(!0),
      s.setHighlightActiveLine(!0),
      s.setShowPrintMargin(!1),
      s.getSession().on('change', function(e) {
        update(e) 
      }),
    
      s.setOptions({
        enableBasicAutocompletion: true,
        enableSnippets: true,
        enableLiveAutocompletion: true,
        
  enableLinking: true

      }),
      s.commands.addCommand({
        name: "saveCommand",
        bindKey: {
          win: "Ctrl-S",
          mac: "Command-S"
        },
        exec: function(e) {
          ! function(e, t, n) {
            var a = new FormData;
            a.append("data", new Blob([t], {
              type: n
            }), e), requests.add("POST", "/edit", a, c)
          }(t, e.getValue() + "", i)
        },
        readOnly: !1
      }), s.commands.addCommand({
        name: "undoCommand",
        bindKey: {
          win: "Ctrl-Z",
          mac: "Command-Z"
        },
        exec: function(e) {
          e.getSession().getUndoManager().undo(!1)
        },
        readOnly: !1
      }), s.commands.addCommand({
        name: "redoCommand",
        bindKey: {
          win: "Ctrl-Shift-Z",
          mac: "Command-Shift-Z"
        },
        exec: function(e) {
          e.getSession().getUndoManager().redo(!1)
        },
        readOnly: !1
      }), s.loadUrl = function(e) {
        ge("editor-filename").value = e, n = o(t = e), i = "text/" + n, "plain" !== n && s.getSession().setMode("ace/mode/" + n),
          function(e) {
            requests.add("GET", "/edit", {
              edit: e
            }, d)
          }(t)
      }, s
  }

  function onBodyLoad() {
    var e = {},
      t = (window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, (function(t, n, a) {
        e[n] = a
      })), createEditor("editor", e.file, e.lang, e.theme)),
      n = createTree("tree", t);
    window.define = ace.define, window.require = ace.require, ace.config.set("basePath", "/"), ace.config.set("workerPath", "/"), createFileUploader("uploader", n, t);//, void 0 === e.file && (e.file = "/schedule.html"), t.loadUrl(e.file)
      
       ace.edit("editor").gotoLine(0, 0, true);
         var contents = `



`; 
         ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), contents);
   
    ace.require("ace/ext/language_tools");
    ace.require('ace/ext/ext-linking'); // not sure if this is correct ace/ext/linking
  }
  "undefined" == typeof XMLHttpRequest && (XMLHttpRequest = function() {
    try {
      return new ActiveXObject("Msxml2.XMLHTTP.6.0")
    } catch (e) {}
    try {
      return new ActiveXObject("Msxml2.XMLHTTP.3.0")
    } catch (e) {}
    try {
      return new ActiveXObject("Microsoft.XMLHTTP")
    } catch (e) {}
    throw new Error("This browser does not support XMLHttpRequest.")
  });
  var QueuedRequester = function() {
    this.queue = [], this.running = !1, this.xmlhttp = null
  };
  QueuedRequester.prototype = {
    _request: function(e) {
      if (this.running = !0, !(!e instanceof Object)) {
        var t = this;
        ge("loader").style.display = "block";
        var n = "";
        if (e.params instanceof FormData) n = e.params;
        else if (e.params instanceof Object)
          for (var a in e.params) n += "" === n ? "GET" === e.method ? "?" : "" : "&", n += encodeURIComponent(a) + "=" + encodeURIComponent(e.params[a]);
        this.xmlhttp = new XMLHttpRequest, this.xmlhttp.onreadystatechange = function(e, n) {
          return function() {
            4 == e.readyState && (ge("loader").style.display = "none", n.callback(e.status, e.responseText), 0 === t.queue.length && (t.running = !1), t.running && t._request(t.queue.shift()))
          }
        }(this.xmlhttp, e), "GET" === e.method ? (this.xmlhttp.open(e.method, e.url + n, !0), this.xmlhttp.send()) : (this.xmlhttp.open(e.method, e.url, !0), n instanceof String && this.xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded"), this.xmlhttp.send(n))
      }
    },
    stop: function() {
      this.running && (this.running = !1), this.xmlhttp && this.xmlhttp.readyState < 4 && this.xmlhttp.abort()
    },
    add: function(e, t, n, a) {
      this.queue.push({
        url: t,
        method: e,
        params: n,
        callback: a
      }), this.running || this._request(this.queue.shift())
    }
  };
  var requests = new QueuedRequester
</script>

<!--            https://cdnjs.com/libraries/ace/1.8.0              -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.8.0/ace.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.8.0/ext-linking.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.8.0/ext-keybinding_menu.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.8.0/ext-prompt.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.8.0/ext-language_tools.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.8.0/mode-html.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.8.0/mode-javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.8.0/mode-css.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.8.0/mode-c_cpp.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.8.0/snippets/html.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.8.0/snippets/javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.8.0/snippets/css.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.8.0/worker-html.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.8.0/worker-javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.8.0/worker-css.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.8.0/ext-searchbox.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.8.0/worker-base.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.8.0/ext-beautify.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.8.0/ext-settings_menu.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.8.0/ext-keybinding_menu.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.8.0/ext-spellcheck.min.js"></script>


<script src="https://gitlab.com/l.dijkman/electricstorm/-/raw/main/examples.js"></script>  
<!-- Cross-Origin Read Blocking (CORB) blocked cross-origin response https://gitlab.com/l.dijkman/electricstorm/-/raw/main/examples.js with MIME type text/plain. See https://www.chromestatus.com/feature/5629709824032768 for more details. -->
<script src="https://gitlab.com/l.dijkman/electricstorm/-/snippets/2416391/raw/main/eample.js"></script>


<script>
  if (void 0 === ace.edit) {
    var script = document.createElement("script");
    script.src = "/ace.js", script.async = !1, document.head.appendChild(script)
  }
</script> 

<body onload="onBodyLoad()">
<script>
        

  </script>

  	<script> 
            //JavaScript function to play the beep sound
            function play() { 
		var beepsound = new Audio( 
'https://www.myinstants.com/media/sounds/oh-no-no-no-tik-tok-song-sound-effect.mp3'); 
		beepsound.play(); 
	} 
	</script> 
  <div id="container"> 
    <div id="figletgenerator">
           

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Figlet Generator</title>
<style>
    body{
        background-color:#000000;
        color:#03fc2c;
    }
</style>

<script src="https://unpkg.com/figlet/lib/figlet.js"></script>
    <script>

      figlet.defaults({
    fontPath: 'https://unpkg.com/figlet/fonts'
});

figlet.preloadFonts(["Standard", "Ghost"], function() {
    console.log('prefetching done (only did it for 2 fonts)!');
});  
      
      document.addEventListener("DOMContentLoaded", function() {
    document.querySelector("#generate")
        .addEventListener("click", generate)
    document.querySelector("#copy")
        .addEventListener("click", copy);

    document.querySelector("#src")
        .addEventListener("keypress", key_event);
    document.querySelector("#src")
        .focus();

    if (!navigator.clipboard) {
        document.querySelector("#copy")
            .style.visibility = "hidden";
    }
})

function key_event(event) {
    if (event.isComposing || event.keyCode == 13) {
        generate();
    }
}

function generate() {
    figlet(document.querySelector("#src")
        .value, {
            font: document.querySelector("#font")
                .value
        },
        function(err, text) {
            if (err) {
                document.querySelector("#result")
                    .textContent = err;
                document.querySelector("#copy")
                    .disabled = true;
            } else {
                document.querySelector("#result")
                    .textContent = text;
                document.querySelector("#copy")
                    .disabled = false;
            }

        });
}

function copy() {
    navigator.clipboard.writeText(document.querySelector("#result")
        .textContent);
}


</script>
</head>

<body>

                <select id="font" onchange="generate()">
                    <option value="1Row">1Row</option>
                    <option value="3-D">3-D</option>
                    <option value="3D Diagonal">3D Diagonal</option>
                    <option value="3D-ASCII">3D-ASCII</option>
                    <option value="3x5">3x5</option>
                    <option value="4Max">4Max</option>
                    <option value="5 Line Oblique">5 Line Oblique</option>
                    <option value="Acrobatic">Acrobatic</option>
                    <option value="Alligator">Alligator</option>
                    <option value="Alligator2">Alligator2</option>
                    <option value="Alpha">Alpha</option>
                    <option value="Alphabet">Alphabet</option>
                    <option value="AMC 3 Line">AMC 3 Line</option>
                    <option value="AMC 3 Liv1">AMC 3 Liv1</option>
                    <option value="AMC AAA01">AMC AAA01</option>
                    <option value="AMC Neko">AMC Neko</option>
                    <option value="AMC Razor">AMC Razor</option>
                    <option value="AMC Razor2">AMC Razor2</option>
                    <option value="AMC Slash">AMC Slash</option>
                    <option value="AMC Slider">AMC Slider</option>
                    <option value="AMC Thin">AMC Thin</option>
                    <option value="AMC Tubes">AMC Tubes</option>
                    <option value="AMC Untitled">AMC Untitled</option>
                    <option style="color:green;" value="ANSI Regular">ANSI Regular</option>
                    <option  style="color:green;" value="ANSI Shadow" selected="selected">ANSI Shadow</option>
                    <option value="Arrows">Arrows</option>
                    <option value="ASCII New Roman">ASCII New Roman</option>
                    <option value="Avatar">Avatar</option>
                    <option value="B1FF">B1FF</option>
                    <option value="Banner">Banner</option>
                    <option value="Banner3-D">Banner3-D</option>
                    <option value="Banner3">Banner3</option>
                    <option value="Banner4">Banner4</option>
                    <option value="Barbwire">Barbwire</option>
                    <option value="Basic">Basic</option>
                    <option value="Bear">Bear</option>
                    <option value="Bell">Bell</option>
                    <option value="Benjamin">Benjamin</option>
                    <option value="Big Chief">Big Chief</option>
                    <option value="Big Money-ne">Big Money-ne</option>
                    <option value="Big Money-nw">Big Money-nw</option>
                    <option value="Big Money-se">Big Money-se</option>
                    <option value="Big Money-sw">Big Money-sw</option>
                    <option  style="color:green;" value="Big">Big</option>
                    <option value="Bigfig">Bigfig</option>
                    <option value="Binary">Binary</option>
                    <option value="Block">Block</option>
                    <option value="Blocks">Blocks</option>
                    <option  style="color:green;" value="Bloody">Bloody</option>
                    <option value="Bolger">Bolger</option>
                    <option value="Braced">Braced</option>
                    <option value="Bright">Bright</option>
                    <option value="Broadway KB">Broadway KB</option>
                    <option value="Broadway">Broadway</option>
                    <option value="Bubble">Bubble</option>
                    <option value="Bulbhead">Bulbhead</option>
                    <option value="Caligraphy">Caligraphy</option>
                    <option value="Caligraphy2">Caligraphy2</option>
                    <option value="Calvin S">Calvin S</option>
                    <option value="Cards">Cards</option>
                    <option value="Catwalk">Catwalk</option>
                    <option value="Chiseled">Chiseled</option>
                    <option value="Chunky">Chunky</option>
                    <option value="Coinstak">Coinstak</option>
                    <option value="Cola">Cola</option>
                    <option value="Colossal">Colossal</option>
                    <option value="Computer">Computer</option>
                    <option value="Contessa">Contessa</option>
                    <option value="Contrast">Contrast</option>
                    <option value="Cosmike">Cosmike</option>
                    <option value="Crawford">Crawford</option>
                    <option value="Crawford2">Crawford2</option>
                    <option value="Crazy">Crazy</option>
                    <option value="Cricket">Cricket</option>
                    <option value="Cursive">Cursive</option>
                    <option value="Cyberlarge">Cyberlarge</option>
                    <option  style="color:green;" value="Cybermedium">Cybermedium</option>
                    <option value="Cybersmall">Cybersmall</option>
                    <option value="Cygnet">Cygnet</option>
                    <option value="DANC4">DANC4</option>
                    <option value="Dancing Font">Dancing Font</option>
                    <option value="Decimal">Decimal</option>
                    <option value="Def Leppard">Def Leppard</option>
                    <option  style="color:green;" value="Delta Corps Priest 1">Delta Corps Priest 1</option>
                    <option value="Diamond">Diamond</option>
                    <option value="Diet Cola">Diet Cola</option>
                    <option value="Digital">Digital</option>
                    <option value="Doh">Doh</option>
                    <option  style="color:green;" value="Doom">Doom</option>
                    <option  style="color:green;" value="DOS Rebel">DOS Rebel</option>
                    <option value="Dot Matrix">Dot Matrix</option>
                    <option value="Double Shorts">Double Shorts</option>
                    <option value="Double">Double</option>
                    <option value="Dr Pepper">Dr Pepper</option>
                    <option value="DWhistled">DWhistled</option>
                    <option value="Efti Chess">Efti Chess</option>
                    <option value="Efti Font">Efti Font</option>
                    <option value="Efti Italic">Efti Italic</option>
                    <option value="Efti Piti">Efti Piti</option>
                    <option value="Efti Robot">Efti Robot</option>
                    <option  style="color:blue;" value="Efti Wall">Efti Wall</option>
                    <option value="Efti Water">Efti Water</option>
                    <option value="Electronic">Electronic</option>
                    <option value="Elite">Elite</option>
                    <option value="Epic">Epic</option>
                    <option value="Fender">Fender</option>
                    <option value="Filter">Filter</option>
                    <option value="Fire Font-k">Fire Font-k</option>
                    <option value="Fire Font-s">Fire Font-s</option>
                    <option value="Flipped">Flipped</option>
                    <option value="Flower Power">Flower Power</option>
                    <option value="Four Tops">Four Tops</option>
                    <option value="Fraktur">Fraktur</option>
                    <option value="Fun Face">Fun Face</option>
                    <option value="Fun Faces">Fun Faces</option>
                    <option value="Fuzzy">Fuzzy</option>
                    <option value="Georgi16">Georgi16</option>
                    <option value="Georgia11">Georgia11</option>
                    <option value="Ghost">Ghost</option>
                    <option value="Ghoulish">Ghoulish</option>
                    <option value="Glenyn">Glenyn</option>
                    <option value="Goofy">Goofy</option>
                    <option value="Gothic">Gothic</option>
                    <option value="Graceful">Graceful</option>
                    <option value="Gradient">Gradient</option>
                    <option value="Graffiti">Graffiti</option>
                    <option value="Greek">Greek</option>
                    <option value="Heart Left">Heart Left</option>
                    <option value="Heart Right">Heart Right</option>
                    <option value="Henry 3D">Henry 3D</option>
                    <option value="Hex">Hex</option>
                    <option value="Hieroglyphs">Hieroglyphs</option>
                    <option value="Hollywood">Hollywood</option>
                    <option value="Horizontal Left">Horizontal Left</option>
                    <option value="Horizontal Right">Horizontal Right</option>
                    <option value="ICL-1900">ICL-1900</option>
                    <option value="Impossible">Impossible</option>
                    <option value="Invita">Invita</option>
                    <option value="Isometric1">Isometric1</option>
                    <option value="Isometric2">Isometric2</option>
                    <option value="Isometric3">Isometric3</option>
                    <option value="Isometric4">Isometric4</option>
                    <option value="Italic">Italic</option>
                    <option value="Ivrit">Ivrit</option>
                    <option value="Jacky">Jacky</option>
                    <option value="Jazmine">Jazmine</option>
                    <option value="Jerusalem">Jerusalem</option>
                    <option value="JS Block Letters">JS Block Letters</option>
                    <option value="JS Bracket Letters">JS Bracket Letters</option>
                    <option value="JS Capital Curves">JS Capital Curves</option>
                    <option value="JS Cursive">JS Cursive</option>
                    <option value="JS Stick Letters">JS Stick Letters</option>
                    <option value="Katakana">Katakana</option>
                    <option value="Kban">Kban</option>
                    <option value="Keyboard">Keyboard</option>
                    <option value="Knob">Knob</option>
                    <option value="Konto Slant">Konto Slant</option>
                    <option value="Konto">Konto</option>
                    <option value="Larry 3D 2">Larry 3D 2</option>
                    <option value="Larry 3D">Larry 3D</option>
                    <option value="LCD">LCD</option>
                    <option value="Lean">Lean</option>
                    <option value="Letters">Letters</option>
                    <option value="Lil Devil">Lil Devil</option>
                    <option value="Line Blocks">Line Blocks</option>
                    <option value="Linux">Linux</option>
                    <option value="Lockergnome">Lockergnome</option>
                    <option value="Madrid">Madrid</option>
                    <option value="Marquee">Marquee</option>
                    <option value="Maxfour">Maxfour</option>
                    <option value="Merlin1">Merlin1</option>
                    <option value="Merlin2">Merlin2</option>
                    <option value="Mike">Mike</option>
                    <option value="Mini">Mini</option>
                    <option value="Mirror">Mirror</option>
                    <option value="Mnemonic">Mnemonic</option>
                    <option value="Modular">Modular</option>
                    <option value="Morse">Morse</option>
                    <option value="Morse2">Morse2</option>
                    <option value="Moscow">Moscow</option>
                    <option value="Mshebrew210">Mshebrew210</option>
                    <option value="Muzzle">Muzzle</option>
                    <option value="Nancyj-Fancy">Nancyj-Fancy</option>
                    <option value="Nancyj-Improved">Nancyj-Improved</option>
                    <option value="Nancyj-Underlined">Nancyj-Underlined</option>
                    <option value="Nancyj">Nancyj</option>
                    <option value="Nipples">Nipples</option>
                    <option value="NScript">NScript</option>
                    <option value="NT Greek">NT Greek</option>
                    <option value="NV Script">NV Script</option>
                    <option value="O8">O8</option>
                    <option value="Octal">Octal</option>
                    <option value="Ogre">Ogre</option>
                    <option value="Old Banner">Old Banner</option>
                    <option value="OS2">OS2</option>
                    <option value="Pagga">Pagga</option>
                    <option value="Patorjk's Cheese">Patorjk's Cheese</option>
                    <option value="Patorjk-HeX">Patorjk-HeX</option>
                    <option value="Pawp">Pawp</option>
                    <option value="Peaks Slant">Peaks Slant</option>
                    <option value="Peaks">Peaks</option>
                    <option value="Pebbles">Pebbles</option>
                    <option value="Pepper">Pepper</option>
                    <option value="Poison">Poison</option>
                    <option value="Puffy">Puffy</option>
                    <option value="Puzzle">Puzzle</option>
                    <option value="Pyramid">Pyramid</option>
                    <option value="Rammstein">Rammstein</option>
                    <option value="Rectangles">Rectangles</option>
                    <option value="Red Phoenix">Red Phoenix</option>
                    <option value="Relief">Relief</option>
                    <option value="Relief2">Relief2</option>
                    <option value="Reverse">Reverse</option>
                    <option value="Roman">Roman</option>
                    <option value="Rot13">Rot13</option>
                    <option value="Rotated">Rotated</option>
                    <option value="Rounded">Rounded</option>
                    <option value="Rowan Cap">Rowan Cap</option>
                    <option value="Rozzo">Rozzo</option>
                    <option value="Runic">Runic</option>
                    <option value="Runyc">Runyc</option>
                    <option value="S Blood">S Blood</option>
                    <option value="Santa Clara">Santa Clara</option>
                    <option value="Script">Script</option>
                    <option value="Serifcap">Serifcap</option>
                    <option value="Shadow">Shadow</option>
                    <option value="Shimrod">Shimrod</option>
                    <option value="Short">Short</option>
                    <option value="SL Script">SL Script</option>
                    <option value="Slant Relief">Slant Relief</option>
                    <option value="Slant">Slant</option>
                    <option value="Slide">Slide</option>
                    <option value="Small Caps">Small Caps</option>
                    <option value="Small Isometric1">Small Isometric1</option>
                    <option value="Small Keyboard">Small Keyboard</option>
                    <option value="Small Poison">Small Poison</option>
                    <option value="Small Script">Small Script</option>
                    <option value="Small Shadow">Small Shadow</option>
                    <option value="Small Slant">Small Slant</option>
                    <option value="Small Tengwar">Small Tengwar</option>
                    <option  style="color:green;" value="Small">Small</option>
                    <option value="Soft">Soft</option>
                    <option value="Speed">Speed</option>
                    <option value="Spliff">Spliff</option>
                    <option value="Stacey">Stacey</option>
                    <option value="Stampate">Stampate</option>
                    <option value="Stampatello">Stampatello</option>
                    <option  style="color:green;" value="Standard">Standard</option>
                    <option value="Star Strips">Star Strips</option>
                    <option value="Star Wars">Star Wars</option>
                    <option value="Stellar">Stellar</option>
                    <option value="Stforek">Stforek</option>
                    <option  style="color:green;" value="Stick Letters">Stick Letters</option>
                    <option value="Stop">Stop</option>
                    <option value="Straight">Straight</option>
                    <option value="Stronger Than All">Stronger Than All</option>
                    <option value="Sub-Zero">Sub-Zero</option>
                    <option value="Swamp Land">Swamp Land</option>
                    <option value="Swan">Swan</option>
                    <option value="Sweet">Sweet</option>
                    <option value="Tanja">Tanja</option>
                    <option value="Tengwar">Tengwar</option>
                    <option value="Term">Term</option>
                    <option value="Test1">Test1</option>
                    <option value="The Edge">The Edge</option>
                    <option value="Thick">Thick</option>
                    <option value="Thin">Thin</option>
                    <option value="THIS">THIS</option>
                    <option value="Thorned">Thorned</option>
                    <option value="Three Point">Three Point</option>
                    <option value="Ticks Slant">Ticks Slant</option>
                    <option value="Ticks">Ticks</option>
                    <option value="Tiles">Tiles</option>
                    <option value="Tinker-Toy">Tinker-Toy</option>
                    <option value="Tombstone">Tombstone</option>
                    <option value="Train">Train</option>
                    <option value="Trek">Trek</option>
                    <option value="Tsalagi">Tsalagi</option>
                    <option value="Tubular">Tubular</option>
                    <option value="Twisted">Twisted</option>
                    <option value="Two Point">Two Point</option>
                    <option value="Univers">Univers</option>
                    <option value="USA Flag">USA Flag</option>
                    <option value="Varsity">Varsity</option>
                    <option value="Wavy">Wavy</option>
                    <option value="Weird">Weird</option>
                    <option value="Wet Letter">Wet Letter</option>
                    <option value="Whimsy">Whimsy</option>
                    <option value="Wow">Wow</option>
                </select>
           
       <input type="text" name="" id="src" Value="Duke Nuke m" oninput="generate()">
       <input
        type="button"
        id="showhidefigletgenerator"
        onclick="showhidefigletgenerator()"
        value="Hide [X]"
        style="background-color: yellow;color:black;font-weight: bold;float:right;z-index:30"
        title="show hide floating keyboard"
      />
      
    <button id="generate">Generate</button> 
    <button id="copy" onclick="insertfiglet()" title="insert result at cursor" 
    disabled>insert at cursor</button>
    <br>
    <pre id="result" style=""></pre>
    <script>
        generate();


        function insertfiglet() { 
          play();
ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), "/*\n<pre>\n"+document.querySelector("#result")
        .textContent+"\nFiglet font "+document.querySelector("#font")
                .value+" https://run.plnkr.co/plunks/ZEkhoGgs4ntDZzT0/ \n</pre>\n*/");
        }
     </script>  

</body>
</html>
    </div>
    <div id="htmltaglist">
       <input
        type="button"
        id="showhtmltaglist"
        onclick="showhtmltaglist()"
        value="HTML"
        style="background-color: orange;color:black;font-weight: bold;float:left;"
        title="show html tagboard"
      />
        
       <input
        type="button"
        id="showcsstaglist"
        onclick="showcsstaglist()"
        value="CSS"
        style="background-color: yellow;color:black;font-weight: bold;float:left;"
        title="show css tagboard"
      />
         
       <input
        type="button"
        id="showjavascripttaglist"
        onclick="showjavascripttaglist()"
        value="JavaScript"
        style="background-color: yellow;color:black;font-weight: bold;float:left;"
        title="show javascript tagboard"
      />    Add buttons / Edit Snippets in examples.js 
      <input
        type="button"
        id="showhidehtmltaglist"
        onclick="showhidehtmltaglist()"
        value="Hide [X]"
        style="background-color: yellow;color:black;font-weight: bold;float:right;"
        title="show hide floating keyboard"
      />
      <br>
      HTML TagBoard Snippets insert at cursor?
       
        <br>
        <!-- buttons with snippets are/can be added from examples.js in next p tag -->
        <p id="phtmlbuttons"></p>
  
      <input type ="button" value="&lt;hr&gt;" onclick="hrex()" style="background-color: aqua;color:black;font-weight: bold;">
      <input type ="button" value="&lt;center&gt;" onclick="centerex()" style="background-color: aqua;color:black;font-weight: bold;">  
      <input type ="button" value="&lt;input type= &gt;" onclick="inputtype()" style="background-color: aqua;color:black;font-weight: bold;"> 
   
      <input type ="button" value="&lt;script&gt;" onclick="play()"> 
      <input type ="button" value="&lt;script src=&gt;" onclick="play()"> 
      <input type ="button" value="&lt;ul li&gt;" onclick="olulli()" style="background-color: aqua;color:black;font-weight: bold;">  
      <input type ="button" value="&lt;ol li&gt;" onclick="olulli()" style="background-color: aqua;color:black;font-weight: bold;">  
      <input type ="button" value="&lt;a href= target=&gt;" onclick="play()"> 
      <input type ="button" value="&lt;img src=&gt;" onclick="imgsrc()" style="background-color: aqua;color:black;font-weight: bold;">  
      <br>
      <input type ="button" value="&lt;iframe&gt;" onclick="iframeex()" style="background-color: aqua;color:black;font-weight: bold;"> 
      <input type ="button" value="&lt;!-- --&gt;" onclick="commentex()" style="background-color: aqua;color:black;font-weight: bold;"> 
     
      <input type ="button" value="function (){  }" onclick="play()">  
      <input type ="button" value="&lt;button&gt;" onclick="buttonex()" style="background-color: aqua;color:black;font-weight: bold;"> 
  <input type ="button" value="&lt;pre&gt;"  onclick="play()"> 
  <input type ="button" value="&lt;code&gt;"  onclick="play()"> 
  <input type ="button" value="&lt;textarea&gt;" onclick="textareaex()" style="background-color: aqua;color:black;font-weight: bold;"> 
  
  

    <a href="https://m.facebook.com/luberth.dijkman" target="FaceBook_censuur_alike_China_Russia_and_GitHub"><font style="color:aqua;">Suggest More? https://m.facebook.com/luberth.dijkman</font></a>
  </div>

    <div id="csstaglist">
       <input
        type="button"
        id="showhtmltaglist"
        onclick="showhtmltaglist()"
        value="HTML"
        style="background-color: yellow;color:black;font-weight: bold;float:left;"
        title="show html tagboard"
      />
        
       <input
        type="button"
        id="showcsstaglist"
        onclick="showcsstaglist()"
        value="CSS"
        style="background-color: orange;color:black;font-weight: bold;float:left;"
        title="show css tagboard"
      />
         
       <input
        type="button"
        id="showjavascripttaglist"
        onclick="showjavascripttaglist()"
        value="JavaScript"
        style="background-color: yellow;color:black;font-weight: bold;float:left;"
        title="show javascript tagboard"
      />    Add buttons / Edit Snippets in examples.js 
      <input
        type="button"
        id="showhidehtmltaglist"
        onclick="showhidehtmltaglist()"
        value="Hide [X]"
        style="background-color: yellow;color:black;font-weight: bold;float:right;"
        title="show hide floating keyboard"
      />
      <br>
    CSS TagBoard Snippets insert at cursor?
       
     




<br>


<!-- buttons with snippets are/can be added from examples.js in next p tag -->
<p id="pcssbuttons"></p>  

<input type="button" value="CSS Border" onclick="cssborderex()" style="background-color: aqua;color:black;font-weight: bold;"> 
     
    <br><a href="https://m.facebook.com/luberth.dijkman" target="FaceBook_censuur_alike_China_Russia_and_GitHub"><font style="color:aqua;">Suggest More? https://m.facebook.com/luberth.dijkman</font></a>
  </div>




  <div id="javascripttaglist">
       <input
        type="button"
        id="showhtmltaglist"
        onclick="showhtmltaglist()"
        value="HTML"
        style="background-color: yellow;color:black;font-weight: bold;float:left;"
        title="show html tagboard"
      />
        
       <input
        type="button"
        id="showcsstaglist"
        onclick="showcsstaglist()"
        value="CSS"
        style="background-color: yellow;color:black;font-weight: bold;float:left;"
        title="show css tagboard"
      />
         
       <input
        type="button"
        id="showjavascripttaglist"
        onclick="showjavascripttaglist()"
        value="JavaScript"
        style="background-color: orange;color:black;font-weight: bold;float:left;"
        title="show javascript tagboard"
      />   Add buttons / Edit Snippets in examples.js 
      <input
        type="button"
        id="showhidehtmltaglist"
        onclick="showhidehtmltaglist()"
        value="Hide [X]"
        style="background-color: yellow;color:black;font-weight: bold;float:right;"
        title="show hide floating keyboard"
      />
      <br>
      javascript TagBoard Snippets insert at cursor?
       
        <br>


<!-- buttons with snippets are/can be added from examples.js in next p tag -->
<p id="pjavascriptbuttons"></p>  
      
<a href="https://m.facebook.com/luberth.dijkman" target="FaceBook_censuur_alike_China_Russia_and_GitHub"><font style="color:aqua;">Suggest More? https://m.facebook.com/luberth.dijkman</font></a>
  </div>

 

  <!-- Draggable DIV -->
  <div id="mydivmenu">
    <!-- Include a header DIV with the same name as the draggable DIV, followed by "header" -->
    <div id="mydivheader" title="drag menu by this titlebar">&nbsp;<b>Drag Menu Here 
      <input
        type="button"
        id="showhidefloatingmenu"
        onclick="showhidefloatingmenu()"
        value="Hide [X]"
        style="background-color: yellow;color:black;font-weight: bold;float:right;"
        title="show hide floating menu"
      /></b></div>
    <div id="menucontent" style="height: 100px;" title="drag menu by the titlebar">
     &nbsp;<a href="https://run.plnkr.co/plunks/ZEkhoGgs4ntDZzT0/" target="CloudWriter">Ace Cloud Writer Electric Storm</a><br>
       &nbsp;<button onclick="toggleFullScreen()" title="Toggle FullScreen"style="background-color:lightblue;color:black;font-weight: bold;">FullScreen</button>
              <input
        type="button"
        id="showhideminimap"
        onclick="showhideminimap()"
        value="MiniMap"
        style="background-color: darkgrey;color:black;font-weight:lighter;"
        title="not yet show hide minimap" 
      />
        <input
        type="button"
        id="showhidehtmltaglist"
        onclick="showhidehtmltaglist()"
        value="TagBoard"
        style="background-color: darkgrey;color:black;font-weight:lighter;"
        title="show hide TagBoard Snipets showhidehtmltaglist"
      />
      <br>
       &nbsp;<input
        type="button"
        id="showhidefigletgenerator"
        onclick="showhidefigletgenerator()"
        value="FigletGenerator"
        style="background-color: darkgrey;color:black;font-weight:lighter;"
        title="show hide Figlet Generator JavaScript"
      />
      <input
        type="button"
        id="showhidetablegenerator"
        onclick="showhidetablegenerator()"
        value="TableGenerator"
        style="background-color: darkgrey;color:black;font-weight:lighter;"
        title="show hide TABLE Generator"
      />
      <br> 
     &nbsp;<input
        type="file"
        id="openbton"
        onchange="openCode(this.files)"
        value="Open PC"
        style="background-color:#F29EB1;color:black;font-weight: bold;"
        title="For PC load a file from Disk"
      /><br>
            &nbsp;<input
        type="button"
        id="downloadbtn"
        onclick="downloadHTML()"
        value="Save by Download"
        style="background-color: lightgreen;color:black;font-weight: bold;"
        title="For PC Save By Downloading File"
      /><br>

         &nbsp;<input type="button" onclick="paste_time_date()" value="insert time date at cursor" title="insert time date and document location at cursor"><br>
   
      &nbsp;resize me, right bottom corner<br>
   
      &nbsp;<a href="https://plnkr.co/plunk/dqcdy6hSIj8lU0jg" target="Ace_Editor_MiniMap"><b><i><u>Ace Editor MiniMap test Plnkr</u></i></b></a><br>
     &nbsp;<a href="https://plnkr.co/plunk/QxlayrisNly9yIO1" target="online_figlet_generator">Figlet Generator Plnkr </a><br> 
&nbsp;<a href="https://plnkr.co/plunk/cbzxhJT13CSn6ymR" target="ace_editor_url_hyperlink_hover">hyperlink hover Plnkr </a><br> 



      &nbsp;<a href="https://plnkr.co/plunk/tirWaMeSd1dAEflI" target="float div drag menu">plnkr float div drag menu</a><br>
      &nbsp;<button onclick='jumpmarkedlinesf()' 
        id="jump" 
        style="background-color:pink;color:black;font-weight: bold;margin:2px;padding:2px;" 
        title="jump to marked linenumbers on gutter &#013; &#010; mark a line by mouseclick left of linenumber&#013; &#010;would like to autocreate find checklist to mark lines&#013; &#010;for style, body, script, functions, event handlesr, input type?">JumpScroll Marked Lines</button><br>
&nbsp;<a href="https://plnkr.co/plunk/v4P8sN8sXFys1tSz" target="plnkr_load_external_URL_HTML">plnkr_load_external_URL_HTML</a><br>
&nbsp;<input type="url" id="geturl" value="https://electra-electric-storm.glitch.me/" size="30"><br>
&nbsp;<input type ="button" value="[ NOT Yet! ] Load HTML from URL" onclick="geturl()"><br>

    </div>
  </div>
    <div id="popup1" class="overlay">
      <div class="popup">
        <!-- pure CSS popup bit from https://codepen.io/imprakash/pen/GgNMXO -->
        <a class="close" href="#">&times;</a>
        <div class="content" style="text-align: left;">
          <h1>Ace, SkyWriter, BeSpin!<br>Electric Storm CloudWriter</h1>
          Hellup<br>
          <br>
          ctrl+f = find<br>
          ctrl + s = save <br>
          ctrl + h = search & replace<br>
          <br>
          ctrl + z = undo<br>
          ctrl + y = redo<br>
          <br>
          Find next Ctrl-K<br>
          Find previous Ctrl-Shift-K<br>
          <br>
          Change to lower case Ctrl-Shift-U<br>
          Change to upper case Ctrl-U<br>
          <br>
          <br>
          <center>
            <h1>Electra</h1>
            <a href="https://ldijkman.github.io/Electra/" target="Hey_Electra">https://ldijkman.github.io/Electra/ </a><br>
<a href="https://github.com/ldijkman/Electric-Storm" target="Electric_Storm">https://github.com/ldijkman/Electric-Storm</a><br>
            
            <br>
          </center>
        </div>
      </div>
    </div>

    <div id="loader" class="loader"></div>
    <div id="uploader">
          <div style="float:right;">
<!--////////////////////////////////////////////////////////////////////// -->
         <br>
<!--////////////////////////////////////////////////////////////////////// -->

<script>  // https://plnkr.co/edit/GCLwKqNGqi4R2Fnr?preview

  function openCode(files) {
        var file = files[0];
        if (!file) return;
        var modelist = ace.require('ace/ext/modelist');
        var modeName = modelist.getModeForPath(file.name).mode;
        editor.session.setMode(modeName);

        reader = new FileReader();
        reader.onload = function () {
          editor.session.setValue(reader.result);
        };
        reader.readAsText(file);            
        
      }
  </script>
 
        <input
        type="file"
        id="openbton"
        onchange="openCode(this.files)"
        value="Open PC"
        style="background-color:#F29EB1;color:black;font-weight: bold;"
        title="For PC load a file from Disk"
      />

    <script> // https://plnkr.co/edit/GCLwKqNGqi4R2Fnr?preview

      function downloadHTML() {
        download('Ace_Edit.html', editor.session.getValue());
      }
      function download(filename, text) {
        var element = document.createElement('a');
        element.setAttribute(
          'href',
          'data:text/plain;charset=utf-8,' + encodeURIComponent(text)
        );
        element.setAttribute('download', filename);

        element.style.display = 'none';
        document.body.appendChild(element);

        element.click();

        document.body.removeChild(element);
      }

</script>

<!-- next button uses script above -->
  


      <input
        type="button"
        id="downloadbtn"
        onclick="downloadHTML()"
        value="Save/Download"
        style="background-color: lightgreen;color:black;font-weight: bold;"
        title="For PC Save By Downloading File"
      />

      <input
        type="button"
        id="showhidefloatingmenu"
        onclick="showhidefloatingmenu()"
        value="Menu"
        style="background-color: yellow;color:black;font-weight: bold;"
        title="show hide floating menu"
      />

      <input
        type="button"
        id="showhideminimap"
        onclick="showhideminimap()"
        value="MiniMap"
        style="background-color: darkgrey;color:black;font-weight:lighter;"
        title="not yet show hide minimap"
      />

    <script>




        function fortest(){  // when button 4test is pressed
          var range=editor.findAll('<br>');
          //var range2=editor.findAll('<style>');
          // var range3=editor.findAll('<body>');
          console.log("findall <br>  found: ",range)
          var selectarray=editor.getSelection().getAllRanges();
          console.log("editor.getSelection().getAllRanges()",selectarray);
console.log("editor.getSelection().getLineRange()",editor.getSelection().getLineRange());

          // would like to search for all style or body or script or funtions or evenlisteners and mark those lines for jumpscrolling
          // maybe by activate search mark options with option select checklist

          // mark the lines test
           editor.session.setBreakpoint(36); //test for line 26
           editor.session.setBreakpoint(75); //test for line 76

          // marked lines should be adder to my
          // var marked_line_nr_array = []; 
           marked_line_nr_array.push(36 + 1); // add marked linenunmber=row to my array 
            console.log("anchor book marking line 37");
           marked_line_nr_array.push(75); // add marked linenunmber=row to my array 
            console.log("anchor book marking line 76");

           // remove duplicates from the array
          marked_line_nr_array= [...new Set(marked_line_nr_array)];
           
           // use jump button to jumpscroll to marked lines
console.log("use button [ jump ] for jumpscrolling to marked lines");
         }
    
// editor.getSelection().getAllRanges(); gives me rows
//HOW DO I GET THE ROWS???
</script>







  <script>
    function paste() {
      var myval = document.getElementById("myList").value;
      var htmltext;
      //console.log(myval);
      if (myval == 1) {
        //    /* */ or <!-- -->
        // test some commands
        ace.edit("editor").execCommand("toggleBlockComment");
        // editor.execCommand("showKeyboardShortcuts");
        //htmltext="<!--     -->";
        //ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), htmltext);
        //console.log(ace.edit("editor").getCursorPosition());
        //console.log(ace.edit("editor").selection.getCursor().column);
        //console.log(ace.edit("editor").selection.getCursor().row);
        //console.log(ace.edit("editor").selection.getCursor().column-6);
        //move cursor rom end of line  inside the comment part of paste
        //ace.edit('editor').gotoLine(ace.edit("editor").selection.getCursor().row+1,ace.edit("editor").selection.getCursor().column-6);
      }
      if (myval == 2) {
        paste2();  // examples.js   where can i find a server to host js files (my github is flagged/blocked) 
      }
      if (myval == 3) {
        htmltext = "<img src=\"https://raw.githubusercontent.com/ldijkman/Electra/main/touch_electra.gif\"><br>\n";
        ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), htmltext);
      }
      if (myval == 4) {
        htmltext = "<a href=\"http://ldijkman.github.io/Electra\" target=\"_blank\">Electra</a><br>";
        ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), htmltext);
      }
      if (myval == 5) {
        htmltext = "<script type=\"text/javascript\" src=\"\"></script\>\n";
        ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), htmltext);
      }
      if (myval == 6) {
        htmltext = "&nbsp;";
        ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), htmltext);
      }
      if (myval == 7) {
        htmltext = "&emsp;";
        ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), htmltext);
      }
      if (myval == 8) {
        htmltext = "<p align=\"right\">Right align content</p>";
        ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), htmltext);
      }
    
         if (myval == 9) {
paste9(); // examples.js   where can i find a server to host js files (my github is flagged/blocked) 
      }
      if (myval == 10) {
        htmltext = "<meta http-equiv=\"Refresh\" content=\"10\">\n";
        htmltext += "<!-- does not work nice in preview editor, reloads the page in 10 seconds -->\n";
        htmltext += "<!-- reload to another URL -->\n";
        htmltext += "<!-- <meta http-equiv=\"refresh\" content=\"30; URL=https://ldijkman.github.io/Electra/\"> -->\n";
        ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), htmltext);
      }
      if (myval == 11) {
        htmltext = "<table width=\"100%\" border=\"1\" cellspacing=\"5\" summary=\"bkj\">\n";
        htmltext += "<tr>\n";
        htmltext += "<td style=\"text-align:center;\">1</td>\n";
        htmltext += "<td>2</td>\n";
        htmltext += "<td>3</td>\n";
        htmltext += "</tr>\n";
        htmltext += "<tr>\n";
        htmltext += "<td>4</td>\n";
        htmltext += "<td>5</td>\n";
        htmltext += "<td>6</td>\n";
        htmltext += "</tr>\n";
        htmltext += "</table>\n";
        ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), htmltext);
      }
      if (myval == 12) {
        htmltext = "<p>A normal horizontal line:</p>\n";
        htmltext += "<hr>\n";
        htmltext += "<p>With CSS:</p>\n";
        htmltext += "<hr style=\"height:10px; border-width:5; border-color:rgb(17,26,158); background-color:rgb(30,212,116); width:75%;\">\n";
        ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), htmltext);
      }
      if (myval == 13) {
        htmltext = "<h0>h0 text</h0>\n";
        htmltext += "<h1>h1 text</h1>\n";
        htmltext += "<h2>h2 text</h2>\n";
        htmltext += "<h3>h3 text</h3>\n";
        htmltext += "<h4>h4 text</h4>\n";
        htmltext += "<h5>h5 text</h5>\n";
        htmltext += "<h6>h6 text</h6>\n";
        ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), htmltext);
      }
      if (myval == 14) {
        htmltext = "<p style=\"font-family:Courier; color:rgb(223,15,15); font-size: 20px;\">This text has the font Courier, is rgb(223,15,15), and 20px.</p>\n";
        htmltext += "<!-- https://www.w3schools.com/cssref/css_websafe_fonts.asp -->";
        htmltext += "<!--\nArial (sans-serif)\nVerdana (sans-serif)\nHelvetica (sans-serif)\nTahoma (sans-serif)\nTrebuchet MS (sans-serif)\nTimes New Roman (serif)\nGeorgia (serif)\nGaramond (serif)\nCourier New (monospace)\nBrush Script MT (cursive) \n-->\n";
        ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), htmltext);
      }
      if (myval == 15) {
        htmltext = "<link href='https://fonts.googleapis.com/css?family=Sofia' rel='stylesheet'>\n";
        htmltext += "<p style=\"font-family: 'Sofia';font-size: 22px;\">Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</p>\n";
        htmltext += "<!-- https://developers.google.com/fonts/docs/getting_started -->\n";
        htmltext += "<!-- https://www.w3schools.com/css/css_font_google.asp -->";
        ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), htmltext);
      }
      if (myval == 16) {
        htmltext = "<link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Sofia&effect=fire\">\n";
        htmltext += "<font size=\"77px\" style=\"font-family: \"Sofia\", sans-serif; font-size: 30px;\" class=\"font-effect-fire\">Russia on Fire</font>\n";
        htmltext += "<p style=\"font-family: \"Sofia\", sans-serif; font-size: 30px;\" class=\"font-effect-fire\">Burn MF burn.</p>\n";
        htmltext += "<p style=\"font-family: \"Sofia\", sans-serif; font-size: 30px;\" class=\"font-effect-fire\">123</p>\n";
        htmltext += "<!-- https://www.w3schools.com/css/css_font_google.asp -->\n";
        ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), htmltext);
      }
      if (myval == 17) {
        htmltext = "<style>/* style css shoudl be in the head */\n";
        htmltext += "body{\n";
        htmltext += "background-color:rgb(13,13,12);\n";
        htmltext += "color:yellow;\n";
        htmltext += "}\n";
        htmltext += "</style>\n";
        ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), htmltext);
      }
      if (myval == 18) {
        // test for mark linenumbers and easy scroll to edit positions
        htmltext = "<!-- mark/unmark gutter linenumbers with mouseclick -->\n";
        htmltext += "<!-- want to make a scroll up down button for easy scroll -->\n";
        htmltext += "<!-- to marked line numbers -->\n";
        htmltext += "<!-- for easy code edit jumping -->\n";
        htmltext += "<!-- for now jump to line 20 -->\n";
        htmltext += "<!-- JumpSrroll to Marked linenumbers by mouseclick Electrric Storm -->\n";
        ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), htmltext);
        ace.edit("editor").scrollToLine(20, true, true, );
        ace.edit("editor").gotoLine(20, 0, true);
        ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), htmltext);
      }
      if (myval == 19) {
        htmltext = "19<style>\na:hover {\n background-color: yellow;\n}\n</style>\n\n";
        htmltext += "<h1>\n<a href=\"https://codepen.io/ldijkman/pen/dymRoeR\" target=\"new1\">linktext one</a><br><br>\n<a href=\"https://codepen.io/ldijkman/pen/dymRoeR\" target=\"new2\">linktext two</a>\n</h1>";
        ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), htmltext);
      }
      if (myval == 20) {
       paste20();     // examples.js   where can i find a server to host js files (my github is flagged/blocked) 
    }
 
      if (myval == 21) {
// 21 this is much easier
var pastetest= ` 21
    <li class="photobooth-comment">
       <span class="username">
          <a href="#">You</a>:
       </span>
       <span class="comment-text">
          $text
       </span> 
       @<span class="comment-time">
          2d
       </span> ago <h1>Hello</h1>
    </li>
`;
// this is much easier

        ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), pastetest);
      }
      if (myval == 22) {
        //https://wtools.io/html-to-javascript-converter
        var variable = '\n' +
          '<!DOCTYPE html>\n' +
          '<html>\n' +
          '<head>\n' +
          '<style>\n' +
          '/* unvisited link */\n' +
          'a:link {\n' +
          '  color: red;\n' +
          '}\n' +
          '\n' +
          '/* visited link */\n' +
          'a:visited {\n' +
          '  color: green;\n' +
          '}\n' +
          '\n' +
          '/* mouse over link */\n' +
          'a:hover {\n' +
          '  color: hotpink;\n' +
          '}\n' +
          '\n' +
          '/* selected link */\n' +
          'a:active {\n' +
          '  color: blue;\n' +
          '}\n' +
          '</style>\n' +
          '</head>\n' +
          '<body>\n' +
          '\n' +
          '<h2>Styling a link depending on state</h2>\n' +
          '\n' +
          '<p><b><a href="https://www.w3schools.com/css/tryit.asp?filename=trycss_link" target="_blank">https://www.w3schools.com/css/tryit.asp?filename=trycss_link</a></b></p>\n' +
          '<p><b>Note:</b> a:hover MUST come after a:link and a:visited in the CSS definition in order to be effective.</p>\n' +
          '<p><b>Note:</b> a:active MUST come after a:hover in the CSS definition in order to be effective.</p>\n' +
          '\n' +
          '</body>\n' +
          '</html>\n' +
          '\n' +
          '\n' +
          '\n';
        htmltext = variable;
        ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), htmltext);
      }
      if (myval == 23) {
        htmltext = "use pretty button<br>\n<style>.mydivouter{position:relative;}.mydivoverlap{position: relative;z-index: 1;}.mybuttonoverlap{position: absolute;z-index: 2;top: -14px;display: none;left: 50px;}.mybuttonoverlap2{position: absolute;z-index: 1;top: 14px;display: none;left: 50px;}.mydivouter:hover .mybuttonoverlap{display:block;}.mydivouter:hover .mybuttonoverlap2{display:block;}</style>buttons popup test on hover for jumpscroll<br>\n<br><br>\n<div class=\"mydivouter\">\n&nbsp;line 33\n<button type=\"button\" title=\"scrollup\nto previous marked line\" class=\"mybuttonoverlap btn btn-info\">&#11165;</button>\n<button type=\"button\" title=\"scrolldown\nto next marked line\" class=\"mybuttonoverlap2 btn btn-info\">&#11167;</button>\n</div>\n<br><b>\n<br><br><br>\n<iframe src=\"https://plnkr.co/plunk/26pHZDFjoE17QrCz\"width=\"100%\" height=\"600\"></iframe>\n\<!-- https://tutorialdeep.com/knowhow/display-button-on-hover-html-css/ -->";

        ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), htmltext);
      }
      if (myval == 24) {
        htmltext = " \n";
        htmltext += " \n";
        htmltext += " <iframe width=\"100%\" height=\"100%\" src=\"https://plnkr.co/plunk/vQj5gFfndyrfyjvR\"></iframe>\n"; // morepastes
        htmltext += " \n";
        htmltext += " \n";
        htmltext += " \n";
        ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), htmltext);
      }
      if (myval == 25) {
        //https://wtools.io/html-to-javascript-converter
        var variable = `
        <h1>
        coding challenge?>br>
        make it an old fashion <br>
        time switch relais clock<br>
        add quarter points on 2circles, 12 hour each<br>
        hour hand ponts to activated AM/PM circle point<br>
        lost me or not?
        </h1>
        https://nl.rs-online.com/web/p/time-switches/3498680<br>
<br>
<canvas id="canvas" width="400" height="400"style="background-color:#333"></canvas>

<script>
  var canvas = document.getElementById("canvas"); var ctx = canvas.getContext("2d"); var radius = canvas.height / 2; ctx.translate(radius, radius); radius = radius * 0.90;
  setInterval(drawClock, 1000);
  function drawClock() {
    drawFace(ctx, radius);
    drawNumbers(ctx, radius);
    drawTime(ctx, radius);
  }
  function drawFace(ctx, radius) {
    var grad;
    ctx.beginPath();
    ctx.arc(0, 0, radius, 0, 2*Math.PI);
    ctx.fillStyle = 'white';
    ctx.fill();
    grad = ctx.createRadialGradient(0, 0, radius*0.95, 0, 0, radius*1.05);
    grad.addColorStop(0, '#333');
    grad.addColorStop(0.5, 'white');
    grad.addColorStop(1, '#333');
    ctx.strokeStyle = grad;
    ctx.lineWidth = radius*0.1;
    ctx.stroke();
    ctx.beginPath();
    ctx.arc(0, 0, radius*0.1, 0, 2*Math.PI);
    ctx.fillStyle = '#333';
    ctx.fill();
  }
  function drawNumbers(ctx, radius) {
    var ang;
    var num;
    ctx.font = radius*0.15 + "px arial";
    ctx.textBaseline = "middle";
    ctx.textAlign = "center";
    for (num = 1;
      num < 13;
      num++) {
      ang = num * Math.PI / 6;
      ctx.rotate(ang);
      ctx.translate(0, -radius*0.85);
      ctx.rotate(-ang);
      ctx.fillText(num.toString(), 0, 0);
      ctx.rotate(ang);
      ctx.translate(0, radius*0.85);
      ctx.rotate(-ang);
    }}
  function drawTime(ctx, radius) {
    var now = new Date();
    var hour = now.getHours();
    var minute = now.getMinutes();
    var second = now.getSeconds();
    //hour
    hour = hour%12;
    hour = (hour*Math.PI/6)+ (minute*Math.PI/(6*60))+ (second*Math.PI/(360*60));
    drawHand(ctx, hour, radius*0.5, radius*0.07);
    //minute
    minute = (minute*Math.PI/30)+(second*Math.PI/(30*60));
    drawHand(ctx, minute, radius*0.8, radius*0.07);
    // second
    second = (second*Math.PI/30);
    drawHand(ctx, second, radius*0.9, radius*0.02);
  }
  function drawHand(ctx, pos, length, width) {
    ctx.beginPath();
    ctx.lineWidth = width;
    ctx.lineCap = "round";
    ctx.moveTo(0, 0);
    ctx.rotate(pos);
    ctx.lineTo(0, -length);
    ctx.stroke();
    ctx.rotate(-pos);
  }
<\/script>
<br>
 <center><small>
 Electric Storm<br>
 <a href="http://plnkr.co/edit/ZEkhoGgs4ntDZzT0" target="_blank">http://plnkr.co/edit/ZEkhoGgs4ntDZzT0</a><br>
 <br>
 <iframe src="https://plnkr.co/plunk/SELZ9E6NfqEugsLJ" width="100%" height="600"></iframe
 </center>

         `;
        htmltext = variable;
        ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), htmltext);
      }
      if (myval == 26) {
        //https://wtools.io/html-to-javascript-converter
        var variable = '' +
          '<h1><span id="Clock">this text will be replaced by the clock</spanp></h1>\n		' +
          '\n<!--\n https://codepen.io/ldijkman/pen/dymRoeR \n use button pretty? \n and try button fold / unfold? \n-->\n\n' +
          '<script>\n' +
          '' +
          'function updateClock() {\n' +
          'let time = new Date(); \n' +
          'let hours =  time.getHours() ;\n ' +
          'let minutes = time.getMinutes();\nif (minutes<=9){minutes="0"+minutes;}\n' +
          'let seconds = time.getSeconds();\nif (seconds<=9){seconds="0"+seconds;} \n' +
          'this.document.getElementById("Clock").innerHTML = hours+":"+minutes+":"+seconds; \n' +
          '' +
          'setTimeout(updateClock, 1000);\n' +
          '' +
          '} \n' +
          'updateClock(); \n' +
          '// setInterval(updateClock, 1000);\n' +
          '<\/script>\n' +
          '';
        htmltext = variable;
        ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), htmltext);
      }
      if (myval == 27) {
        htmltext = "mouse drag resize editor preview \n";
        htmltext += " \n";
        htmltext += "https://plnkr.co/edit/7zSWRvsXITtckVxV \n";
        htmltext += " <iframe width=\"100%\" height=\"100%\" src=\"https://plnkr.co/edit/7zSWRvsXITtckVxV\"></iframe>\n"; // morepastes
        htmltext += " \n";
        htmltext += " \n";
        ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), htmltext);
      }
      if (myval == 28) {
        htmltext = "<!DOCTYPE HTML> \n";
        htmltext += "<html> <!-- start and end document--> \n";
        htmltext += "<head>\n";
        htmltext += "<title> titel of the page </title>\n";
        htmltext += "<style>/* style css shoudl be in the head */\n";
        htmltext += "body{\n";
        htmltext += "  background-color: grey;\n";
        htmltext += "  color: rgb(234,245,19);\n";
        htmltext += "}\n";
        htmltext += "</style>\n";
        htmltext += "</head><!-- end head start body -->\n";
        htmltext += "<body><!-- end head start body -->\n";
 htmltext += "       Please Free Electra<br>\n";
                                          
 htmltext += "<h1>Free Electra ?!</h1>\n";
 
 htmltext += "  Ask developer@githubsupport.com to Free Electra ?!<br>\n<br>\n";
        htmltext += " <a href=\"https://ldijkman.github.io/Electra\" targt=\"Hey_Electra\">https://ldijkman.github.io/Electra</a><br>\n";
       
        ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), htmltext);
      }
      if (myval == 29) {

htmltext = " <script>\n";
htmltext += " /* echo mouse position html elements name on console */\n";
htmltext += "function findElements(e) {\n";
htmltext += "var els = document.elementsFromPoint(e.clientX, e.clientY);\n";
htmltext += "\n";
htmltext += " // do cool stuff with els\n";
htmltext += " console.log(els);\n";
htmltext += "\n";
htmltext += " return;\n";
htmltext += "}\n";
htmltext += "\n";
htmltext += "document.addEventListener(\"mousemove\", findElements);\n";
htmltext += "\n";
htmltext += "<\/script>\n";
htmltext += "<input type=\"color\" id=\"idname\" class=\"classname\" value=\"rgb(80,255,0)\">\n<br>\n<br>\n<h1 id=\"h1_id_name\" class=\"h1_class_name\">hi</h1>";
        ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), htmltext);
      }
      if (myval == 30) {
        let code = "";
        code += '\n';
        code += '\n';
        code += '<script>';
        code += 'function brCheck(data)';
        code += '{';
        code += '}';
        code += '';
        code += 'function scriptPHP(data){';
        code += 'brCheck(data);';
        code += 'for (i=0; i<dataArr.length; i++){';
        code += 'data.value+= (i==0) ? "<?php\\necho " : "echo "';
        code += 'data.value+= "\\"" + unescape(dataArr[i]); ';
        code += 'data.value+= (i!=dataArr.length-1) ? "\\\\n\\"; \\n" : "\\\\n\\";\\n"';
        code += '}';
        code += 'data.value+="\\?>"';
        code += '}';
        code += '</script\>';
        code += '\n';
        code += '<style type="text/css">\n';
        code += '<!--\n';
        code += '.input1 {\n';
        code += '	background-color: #ffffff;\n';
        code += '	font-family: Verdana, Arial, Helvetica, sans-serif;\n';
        code += '	font-size: 11px;\n';
        code += '	color: #000000;\n';
        code += '	height: 300px;\n';
        code += '	width: 610px;\n';
        code += '	overflow: auto;\n';
        code += '}\n';
        code += 'body {\n';
        code += '	background-color: #ffffff;\n';
        code += '	overflow: hidden;\n';
        code += '}\n';
        code += '.input2 {\n';
        code += '	font-family: Verdana, Arial, Helvetica, sans-serif;\n';
        code += '	font-size: 12px;\n';
        code += '	color: #FFFFFF;\n';
        code += '	background-color: #005782;\n';
        code += '}\n';
        code += '.borders {\n';
        code += '	border: 1px outset #00406A;\n';
        code += '}\n';
        code += 'a {\n';
        code += '	font-family: Verdana, Arial, Helvetica, sans-serif;\n';
        code += '	font-size: 11px;\n';
        code += '	color: #FFFFFF;\n';
        code += '	text-decoration: none;\n';
        code += '}\n';
        code += 'a:hover {\n';
        code += '	color: #FFFF99;\n';
        code += '}\n';
        code += '-->\n';
        code += '</style>\n';
        code += '</head>\n';
        code += '<body>\n';
        code += '\n';
        code += '<script src="placeholders.min.js"><\/script>\n';
        code += '\n';
        code += '<form name="doc" action="">\n';
        code += '<table width="100" border="0" align="center" cellpadding="3" cellspacing="0" class="javascript_change_case">\n';
        code += '  <tr>\n';
        code += '\t<td colspan="2" align="center"><input name="button" type="button" class="button" onClick="scriptPHP(document.doc.tx)" value="HTML -> PHP">\n';
        code += '\t  <input name="button2" type="button" class="button" onClick="scriptJS(document.doc.tx)" value="HTML -> JavaScript">\n';
        code += '\t  <input name="button2" type="button" class="button" onClick="scriptASP(document.doc.tx)" value="HTML -> ASP">\n';
        code += '\t  <input name="reset" type="reset" class="button" value="Reset" onClick="document.doc.tx.focus()">\n';
        code += '\t  <input name="button2" type="button" class="button" onClick="copyF(document.doc.tx)" value="Select All">\n';
        code += '\n';
        code += '	  <input name="button2" type="button" class="button" onClick="document.doc.tx.value=\'\\n  Copyright (C) 2004 by 2M.Studio Michael Weidemann\\n\\n  You are free to distribute and modify this file, as long as you\\n  do not remove this copyright notice and clearly label modified\\n  versions as being modified.\\n\\n  This software has NO WARRANTY.  Use it at your own risk.\\n  Original location: http://www.2mstudio.de\'" value="Info"></td>\n';
        code += '\t</tr>\n';
        code += '  <tr>\n';
        code += '\t<td colspan="2"> <textarea name="tx" cols="110" class="input1" rows="2" placeholder="Type or paste your content here.\n';
        code += '\n';
        code += 'Privacy of Data: Text-Filter.com ! Doesn\'t save or share your Text/Data. This tool is built-with and functions-in Client Side JavaScripting, so only your computer will see or process your data\n';
        code += 'input/output."></textarea></td>\n';
        code += '\t</tr>\n';
        code += '  <tr>\n';
        code += '\t<td width="395"><a href="http://www.2mstudio.de" target="_blank">&copy; 2004 by 2M.Studio M.Weidemann</a></td>\n';
        code += '\n';
        code += '  </tr>\n';
        code += '</table>\n';
        code += '</form>\n';
        code += '\n';
        code += '</body>\n';
        code += '</html>\n';
        htmltext = code;
        ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), htmltext);
      }
      ace.edit("editor").focus();
      document.getElementById("myList").options[0].selected = true;
    }
 </script>
 

<!-- next button uses script above -->

        <input type="button" 
        value="4test" 
        onClick='fortest()' 
        style="background-color:orange;color:black;font-weight: bold;" 
        title="button for testing things&#013; &#010;editor.findAll(\'<br>\');&#013; &#010;would like to search and mark lines&#013; &#010;for jump scrolling => use button [ jump ]&#013; &#010;logs to console => where it found <br>&#013; &#010;jump to style  body script or all functions or eventlisteners etcetera&#013; &#010;maybe make an option select checklist to mark wich jumpscroll to activate">

        <!-- https://codepen.io/ldijkman/pen/xxWdBdp -->
        <label>
          <select id="ace-theme" size="1" style="width: 55px;" title="select a theme colorscheme">
            <optgroup label="bright">
              <option value="textmate">textmate</option>
              <option value="chrome">chrome</option>
              <option value="solarized_light">solarized_light</option>
            </optgroup>
            <optgroup label="dark">
              <option value="monokai" selected>monokai</option>
              <option value="twilight">twilight</option>
              <option value="cobalt">cobalt</option>
              <option value="vibrant_ink">vibrant_ink</option>
            </optgroup>
          </select>
        </label>

        <label>
          <select id="ace-mode" style="width: 55px;" title="select editor file type mode">
            <option value="CSS">CSS</option>
            <option value="HTML" selected>HTML</option>
            <option value="JavaScript">JavaScript</option>
            <option value="JSON">JSON</option>
            <option value="Plain Text">Plain Text</option>
            <option value="C and C++">C and C++</option>
          </select>
        </label>

        <script>

        </script>

        <select id="myList" onchange="paste()" style="width: 55px;background:#B6EDED;"  <option style="background:#B6EDED;"  title="paste example codes at cursor position">
          <option style="background-color:#B6EDED;" value="0">paste</option>
          <option value="1" title="comment wil be for html or script"> comment /* */ or &lt;!-- --&gt; Ctrl+Shift+/&nbsp;</option>
          <option value="2" title="paste html example page"> html page </option>
          <option value="3" title="image example"> img src </option>
          <option value="4" title="url text link example"> a href </option>
          <option value="5" title="include script"> script src= </option>
          <option value="6" title="space"> \&\nbsp; </option>
          <option value="7" title="4 spaces"> \&\emsp; </option>
          <option value="8" title="text align right"> p align right </option>
          <option value="9" title="other page in this page example"> iframe my youtube videos iframed watch it ;-) and subscribe?</option>
          <option value="10" title="reload page in ?? sec"> meta refresh 10sec </option>
          <option value="11" title="html table example"> html table </option>
          <option value="12" title="horizontal line"> HR line </option>

          <optgroup label="Text & Font">
            <option value="13" title="header text h0 to h6"> Header text h0-h6 </option>
            <option value="14" title="font family size color"> font family size color </option>
            <option value="15" title="use google fonts"> use google fonts </option>
            <option value="16" title="google font fire effect"> Google font fire effect </option>
            <option value="17" title="style /stryle"> sty;e /style </option>
            <option value="18" title="test gotoline 20"> test goto line 20 </option>
            <option value="19" title="hover change color on mouseover"> hover change color on mouseover</option>
            <option value="20" title="facebook code example Ade Abbey (line 1282)">facebook code example Ade Abbey (line 1282)</option>
            <option value="21" title=""> multiline var test paste</option>
            <option value="22" title=""> CSS style a href link color on state</option>
            <option value="23" title=""> buttons popup for hover over line nmbr test</option>
            <option value="24" title=""> Electra Timed Switching Schedule wifi relais Electric Storm</option>
            <option value="25" style="background:lightgreen;" title="javascript analog canvas clock"> javascript analog canvas clock </option> <!-- morepastes -->
            <option value="26" title=""> javascript digital clock </option>
            <option value="27" title=""> resize editor preview by mouse drag test</option>
            <option value="28" title="Free Electra ?!"> Free Electra ?! </option>
            <option value="29" title=""><b><i>script mouse find echo HTML elements on console </i></b></option>
            <option value="30" title="javascript html to javascript variable converter test"> javascript html to javascript variable converter test </option>
        </select>

        <input type="button" value="fold" onClick='ace.edit("editor").execCommand("foldAllComments")' title="fold multiline comments">
        <input type="button" value="unfold" onClick='ace.edit("editor").execCommand("unfoldall")' title="unfoldall comments">

        <button onclick='pretty()' id="pretty"
        style="background-color: #E2E2A2;" 
        title="beatify pretty print format &#013; &#010; organize the text better">pretty</button>

        <button onclick='suggestonoff()' id="butsuggest" title="suggest on / off">suggest</button>

        <button onclick='jumpmarkedlinesf()' 
        id="jump" 
        style="background-color:pink;color:black;font-weight: bold;" 
        title="jump to marked linenumbers on gutter &#013; &#010; mark a line by mouseclick left of linenumber&#013; &#010;would like to autocreate find checklist to mark lines&#013; &#010;for style, body, script, functions, event handlesr, input type?">jump</button>

        <button onclick='ace.edit("editor").execCommand("gotoline");' id="GTL" title="Goto Line number&#013; cursorpos &#010; scroll to a linenumber">>></button>
        <!-- saw that google drive alos uses ace editor ;-) so looked wow thay did this goto line -->

        <button onclick='ace.edit("editor").setFontSize(ace.edit("editor").getFontSize()-1);' title="zoom -">-</button>
        <button onclick='ace.edit("editor").setFontSize(ace.edit("editor").getFontSize()+1);' title="zoom +">+</button>

        <!--  https://codepen.io/jackliangtw/pen/yLVPQNB   -->
        <button onclick="toggleFullScreen()" title="Toggle FullScreen">FullScreen</button>

        <input type="button" value="Undo" onClick='ace.edit("editor").execCommand("undo");' title="undo">
        <input type="button" value="Redo" onClick='ace.edit("editor").execCommand("redo");' title="redo">

        <input type="button" value="Search" onClick='ace.edit("editor").execCommand("find");' title="search">
        <input type="button" value="Replace" onClick='ace.edit("editor").execCommand("replace");' title="search and replace">

        <button id="webbutton" title="view in browser window (note: you have to save to see changes)">www</button>
        <input type="checkbox" class="fulledit" id="fulledit" name="fulledit" title="full edit screen" checked>
        <input type="checkbox" class="Preview" id="Preview" name="Preview" title="reload preview on every keystroke on/off" checked>
        <input type="button" value="Preview" onClick="updatefrombutton();" title="reload by button if checkbox is off"></label>
        <input id="to-select-text" style="width:60px;" onClick="this.select();" value="#3399FF80" data-jscolor="{}" title="colorpicker">
        <button id="copy-button" title="maybe copy works">Copy</button>

        <input type="button" value="Set" onClick='ace.edit("editor").execCommand("showSettingsMenu");' title="show settings menu">
        <button id="info-button" onClick="location.href='#popup1'"><b>?</b></button>&nbsp;
      </div>
    </div>

    <div id="tree"><a href="https://ldijkman.github.io/Electra/" targt="Electra">Tree <br>file listing <br>only works<br> when served<br> from<br>ESP8266<br> ESP32 <br>espasync<br>webserver<br>& LittleFS<br>Hey Electra!</a><br>
    <br>
    <small><small><small>
    create.arduino.cc<br>
    also an Ace Editor<br>
    it compiles / upload<br>
    arduino code?<br>
    <br>
    drive.google<br> 
    google docs<br>
    also an Ace Editor<br>
    </small></small></small>
    
    
    </div>


    <div id="editor">
      <textarea>
      experimental mesh<br>
      <br> 
      Try mark line numebrs bij mouseclick<br>
      and jumpscroll with the pink button<br>
       easy in a large file  jump up and jump down<br>
      jumpmarks / breakpoints should move when lines are inserted / deleted<br>
<!--
    

https://github.com/ldijkman/randomnerd_esp32_wifi_manager/tree/main/docs/mrs/create_from_scratch

https://ldijkman.github.io/randomnerd_esp32_wifi_manager/mrs/create_from_scratch/index.html

video served from ESP32 ace editor websockets
https://youtu.be/17K2TtYPI_A


  other scheduler examples i do not fully understand the code
  and there are no to little comments

  prefer plain javascript and not jquery,  but there is some jquery in the javascript
  wich i try to make plain javascript
  
  try to make a scheduler from scratch with some more comments and easier to understand code

most updated
  https://plnkr.co/edit/p7xyOMhDtuTc49aZ  
  https://codepen.io/ldijkman/pen/PoxVjXB
  https://github.com/ldijkman/randomnerd_esp32_wifi_manager/new/main/docs/mrs/create_from_scratch
  https://ldijkman.github.io/randomnerd_esp32_wifi_manager/mrs/create_from_scratch/index.html

less updated 
  https://replit.com/@LuberthDijkman/Visual-Scheduler-for-irrigation-sprinklers-lights-wifi?v=1 
  https://jsfiddle.net/luberth/cx7ftgqd/
  https://playcode.io/luberth      
  https://luberth.playcode.io/
  https://electricstorm.w3spaces.com/visual/scheduler.html
  https://sites.google.com/view/visual-scheduler-touch-friendl/home

 use google chrome browser inspect to see more, and console messages

maybe add a coockie for lat lon location
 https://www.w3schools.com/js/js_cookies.asp
-->

<!DOCTYPE html>
<html>
<head>

  <title>Visual TimeSlot Day Week Scheduler, Touch Friendly</title>

  <link rel="icon" type="image/x-icon" href="https://raw.githubusercontent.com/ldijkman/randomnerd_esp32_wifi_manager/main/Electra.jpg">
  <!-- on my android icon is also shown on home screen, if saved to home screen -->
<!--
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  -->
 <meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- when save to home screen on phone - it is full screen - no annoying adres bar -->
    <!-- Allow web app to be run in full-screen mode - iOS. -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    
    <!-- Allow web app to be run in full-screen mode - Android. -->
    <meta name="mobile-web-app-capable" content="yes">

     <!-- 
       do not show google translate popup, translate does not work
       should not be translated Google won't translate any of the content 
     -->
    <meta name="google" value="notranslate">  
    <meta name="google" content="notranslate"> 

    <meta name="description" content="Visual Day scheduler.">
    <meta name="author" content="Copyright Dirk Luberth Dijkman 2023">
 
 
  <!--
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
  -->
  <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
  <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
   
   <!-- modified version analog timepcker on github https://github.com/ldijkman/randomnerd_esp32_wifi_manager/tree/main/docs/mrs --> 
   <script src="https://ldijkman.github.io/randomnerd_esp32_wifi_manager/mrs/lib/timepicker.js"></script>
   <script src="https://ldijkman.github.io/randomnerd_esp32_wifi_manager/mrs/lib/ismobile.js"></script>
   <script src="https://ldijkman.github.io/randomnerd_esp32_wifi_manager/mrs/lib/suncalc.js"></script> 
    

    

<style>
  #editpopup {          /* # = id */
  position: fixed;
  left:40%;
  top:30%;
  z-index: 9;
  background-color: #f1f1f1;
  text-align: center;
  border: 1px solid orange;
  padding: 1px;
  z-index:1001;  /* i do not know what the zindex of the world map picker is, its high like 1000*/
  display: none;  
}

#editpopupheader {      /* # = id */
  padding: 5px;
  cursor: move;
  z-index: 10;
  background-color: #2196F3;
  color: #fff;
  z-index:1001;  /* i do not know what the zindex of the world map picker is, its high like 1000 */
}

.clock-timepicker-popup{    /* . = class */
  opacity:90%;
  }

#outerDiv {                 /* # = id */
  position:relative;
  width:100%;
  height:50px;
  border: 1px solid black;
  background-color: lightgray;
  cursor: pointer;

}
.outerDiv {               /* . = class */
  width:100%;
  height:50px;
  border: 1px solid black;
 
}
#innerDiv {
  position:relative;
  //left:50px;
  width: 0px;
  height:50px;
  background-color: green;
  opacity:50%;
  z-index:500;
 
}
.ruler-line {               /* . = class */
  background: #999;
  top: -30px;
  position: absolute;
  left: 50%;
}

.ruler-number {               /* . = class */
  position: absolute;
  top: -50px;
  left: 50%;
  margin-left: -.20em;
  width: 2em;
  z-index:-1;  /*  stops it from click add timeslots*/
}


.evening_shade {               /* . = class */
 position:absolute;height:20px;background-color:gray;opacity:20%;top:-20px; 
 width: 5%; 
}
.morning_shade { 
  position:absolute;height:20px;background-color:gray;opacity:20%;top:-20px; 
  left:91%;  
  width: 5%;   
}

#label_monday{
  color:green;
}
input{
  caret-color: red;   /*no blibking cursor at some places*/
}

label  {
  cursor:pointer;             /*mouse hand on label monday ....*/
  caret-color: transparent;   /*no blinking cursor at some places*/
  user-select: none;          /*disable mouse text drag selection on labels*/
 }

body{
  caret-color: transparent;   /*no blibking cursor at some places*/
  user-select: none;          
  /*
  disable mouse text drag selection on body
  is that what facebook uses?
  */
}



</style>

</head>
<body bgcolor="#f2f2ed">


<script> 
/////////////////////////////////////////////
// served from ESP32
// screenshots
// https://github.com/ldijkman/randomnerd_esp32_wifi_manager/tree/main/docs/mrs/create_from_scratch
// Chrome inspect => Network => WS
/////////////////////////////////////////////
/**
 * ----------------------------------------------------------------------------
 * ESP32 Remote Control with WebSocket
 * ----------------------------------------------------------------------------
 * © 2020 Stéphane Calderoni
 * 
 * https://m1cr0lab-esp32.github.io/remote-control-with-websocket/
 *
 * https://github.com/m1cr0lab-esp32/remote-control-with-websocket
 * ----------------------------------------------------------------------------
 */

var gateway = `ws://${window.location.hostname}/ws`;
var websocket;

// ----------------------------------------------------------------------------
// Initialization
// ----------------------------------------------------------------------------

window.addEventListener('load', onLoad);

function onLoad(event) {
    initWebSocket();
}

// ----------------------------------------------------------------------------
// WebSocket handling
// ----------------------------------------------------------------------------

function initWebSocket() {
    console.log('Trying to open a WebSocket connection...');
    websocket = new WebSocket(gateway);
    websocket.onopen  = onOpen;
    websocket.onclose = onClose;
}

function onOpen(event) {
    console.log('Connection opened');
}

function onClose(event) {
    console.log('Connection closed');
    setTimeout(initWebSocket, 2000);
}

/* later on the page next code for sending websocket
function send_to_ESP(){                              // call by save and delete
    var dy=daytext;
    var ts=timeslots;
    timeslot_to_ESP = {dy,ts};        // active day timeslot
    console.log("send_to_ESP() ? ",JSON.stringify( timeslot_to_ESP ));  // active day timeslot

    websocket.send(JSON.stringify( timeslot_to_ESP ));  // send the websocket to ESP
    // {"dy":"Tue","ts":[0,60,300,360,600,660,900,960,1200,1260]}

}
*/

/////////////////////////////////////////////
// served from ESP32
// screenshots
// https://github.com/ldijkman/randomnerd_esp32_wifi_manager/tree/main/docs/mrs/create_from_scratch
// Chrome inspect => Network => WS
/////////////////////////////////////////////


/* 
*  var dy=daytext;
   var ts=timeslots;
   timeslot_to_ESP = {dy,ts}; 

* deserialize {"dy":"Tue","ts":[0,60,300,360,600,660,900,960,1200,1260]}
* websocket message {"dy":"Tue","ts":[0,60,300,360,600,660,900,960,1200,1260]}
* https://arduinojson.org/v6/assistant/#/step2
* result arduino code
// Stream& input; {"dy":"Tue","ts":[0,60,300,360,600,660,900,960,1200,1260]}

StaticJsonDocument<256> doc;

DeserializationError error = deserializeJson(doc, input);

if (error) {
  Serial.print(F("deserializeJson() failed: "));
  Serial.println(error.f_str());
  return;
}

const char* dy = doc["dy"]; // "Tue"

JsonArray ts = doc["ts"];
int ts_0 = ts[0]; // 0
int ts_1 = ts[1]; // 60
int ts_2 = ts[2]; // 300
int ts_3 = ts[3]; // 360
int ts_4 = ts[4]; // 600
int ts_5 = ts[5]; // 660
int ts_6 = ts[6]; // 900
int ts_7 = ts[7]; // 960
int ts_8 = ts[8]; // 1200
int ts_9 = ts[9]; // 1260
*/
</script> 







<center>
<pre class="gofullscreenmessage" id="gofullscreenmessage" style="font-size : 17px;"><!-- this text will be set if device screen framed --></pre>  
<pre class="pleaserotatetolandscape" id="pleaserotatetolandscape" style="font-size : 17px;"><!-- this text will be set if device screen is in portrait,  Rotate device to LandScape? --></pre>  

<br>

<!-- radio button is hidden -->
<label for="radio_monday" id="label_monday"  style="border: 1px solid gray;border-radius: 13px; padding:5px;margin:3px;color:green;">
Monday
<input type="radio" name="myRadioButton" class="radioday" onclick="checkit(this.id)" id="radio_monday" style="color:gray;" checked hidden >
</label>
<label for="radio_tuesday" id="label_tuesday" style="border: 1px solid gray; border-radius: 13px;padding:5px;margin:3px;color:gray;">
Tuesday
<input type="radio" name="myRadioButton" class="radioday"  onclick="checkit(this.id)" id="radio_tuesday" style="color:gray;" hidden>
</label>
<label for="radio_wednesday" id="label_wednesday" style="border: 1px solid gray; border-radius: 13px;padding:5px;margin:3px;color:gray;">
Wednesday
<input type="radio" name="myRadioButton" class="radioday" onclick="checkit(this.id)" id="radio_wednesday" style="color:gray;" hidden>
</label>
<label for="radio_thursday" id="label_thursday" style="border: 1px solid gray; border-radius: 13px;padding:5px;margin:3px;color:gray;">
Thursday
<input type="radio" name="myRadioButton" class="radioday" onclick="checkit(this.id)" id="radio_thursday" style="color:gray;" hidden>
</label>
<label for="radio_friday" id="label_friday" style="border: 1px solid gray; border-radius: 13px;padding:5px;margin:3px;color:gray;">
Friday
<input type="radio" name="myRadioButton" class="radioday" onclick="checkit(this.id)" id="radio_friday" style="color:gray;" hidden>
</label>
<label for="radio_saturday" id="label_saturday" style="border: 1px solid gray; border-radius: 13px;padding:5px;margin:3px;color:gray;">
Saturday
<input type="radio" name="myRadioButton" class="radioday" onclick="checkit(this.id)" id="radio_saturday" style="color:gray;" hidden>
</label>
<label for="radio_sunday" id="label_sunday" style="border: 1px solid gray; border-radius: 13px;padding:5px;margin:3px;color:gray;">
Sunday
<input type="radio" name="myRadioButton" class="radioday"  onclick="checkit(this.id)" id="radio_sunday" style="color:gray;" hidden>
</label>

</center>
<br>

<div id="container" class="container" style="">

    <div id="day"><h1>Monday</h1><!-- big dayname on left gets here --></div>

    <div id='outerDiv' class="outerDiv" onclick = 'changeWidth(event)'>
        <div id='innerDiv'></div>
    </div>

</div>

<br><br>

<center>
<br>
<br>
<br>
<label for="days">Copy <b class id="copyday"></b> Schema to</label>
<select id="days">
  <option id="firstoption" value="none" style="color:gray;" selected disabled>Select Day</option>
  <option value="" disabled>------</option>
  <option value="monday">Monday</option>
  <option value="tuesday">Tuesday</option>
  <option value="wednesday">Wednesday</option>
  <option value="thursday">Thursday</option>
  <option value="friday">Friday</option>
  <option value="saturday">Saturday</option>
  <option value="sunday">Sunday</option>
  <option value="" disabled>------</option>
  <option value="weekdays">Weekdays Mon...Fri</option>
  <option value="" disabled>-</option>

</select>
&nbsp;&nbsp;&nbsp;&nbsp;
<input type="button" id="copyokbutton" value="OK" onclick='copy_schema(document.getElementById("days").value)'>

<br>
<!--
  time picker does not like when pagescale is changed
  or is it touch that does not like scale change
  think it would be nice to have page zoom scale

Zoom test<br>
<input type="range" style="width:95%;height:100px;"  min="50" max="200" value="100" oninput="setZoom(this.value)"list=tickmarks>
<datalist id=tickmarks>
<option>0</option>
<option>50</option>
<option>75</option>
<option>100 </option>
<option>125</option>
<option>150</option>
<option>175</option>
<option>200</option>
</datalist><br>
-->
<pre class="message" id="message"></pre>
<pre class="message2" id="message2"></pre>
<pre class="message3" id="message3"></pre>

<input type="button" value="Chrome inspect clear console " onclick="console.clear()"><br>
Open Chrome Inspect Console = Ctrl + Shift + j<br>
<br>




<hr width="40%">

<a href="https://www.google.com/search?q=52.7354,5.179" target="google">GeoLocation for sunrise, sunset </a>
<br>
<br>
lat:<input type="text" id="lat" size="6" oninput="dogeoloc()" value="52.7354" onchange="dogeoloc()"/>
lon:<input type="text" id="lon" size="6" oninput="dogeoloc()" value="5.179" onchange="dogeoloc()"/>

<hr width="40%">

<br>
<br>

<!--begin https://www.jqueryscript.net/other/leaflet-location-picker.html#google_vignette-->
sunrise sunset geolocation picker map lat lon<br>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.6.0/leaflet.css" />
<link rel="stylesheet" href="https://ldijkman.github.io/randomnerd_esp32_wifi_manager/mrs/create_from_scratch/leaflet-locationpicker.css" />

<div class="container">
      <input id="geoloc" type="text" value="52.7354,5.179" class="form-control mb-3"  />
      <input type="button" value="use location" onclick="useit()"  /><br><br>
      <div id="fixedMapCont" style="border: 3px solid #222; width:275px;"></div>
</div>
Think the time / timezone of your device must match geolocation<br>
i am in europe, if i choose caribean location<br>
time sunrise sunset is about 7 hours of target<br>
<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.6.0/leaflet.js"></script>
<script src="https://ldijkman.github.io/randomnerd_esp32_wifi_manager/mrs/create_from_scratch/leaflet-locationpicker.js"></script>
<script>
  $('#geoloc').leafletLocationPicker({
    alwaysOpen: true,
    mapContainer: "#fixedMapCont"
});

function useit(){
    var location = document.getElementById("geoloc").value.split(',');   // make an array splitted at comma                             // split hh:mm  at the colons
    document.getElementById("lat").value=location[0];   // left of comma val 0 of array
    document.getElementById("lon").value=location[1];   // rigth of comma val 1 of array
    dogeoloc();
}
</script>
<!-- end https://www.jqueryscript.net/other/leaflet-location-picker.html#google_vignette-->

<br>
<br>
a bar for each day<br>
click on bar should open a popup at that clicked time<br>
text field should open an analog timepicker dail that looks the same on all systems<br>
<br> 
i Think most people use a phone or tablet not pc with mouse<br>
so should work for phone or tablet touch<br>
Touch drag edit popup should work<br>
<br>
<br>
<br>
<div style="width:100%;font-size:1vw;">
/*
<pre>
 __      ___                 _        _____      _              _       _           
 \ \    / (_)               | |      / ____|    | |            | |     | |          
  \ \  / / _ ___ _   _  __ _| |_____| (___   ___| |__   ___  __| |_   _| | ___ _ __ 
   \ \/ / | / __| | | |/ _` | |______\___ \ / __| '_ \ / _ \/ _` | | | | |/ _ \ '__|
    \  /  | \__ \ |_| | (_| | |      ____) | (__| | | |  __/ (_| | |_| | |  __/ |   
     \/   |_|___/\__,_|\__,_|_|     |_____/ \___|_| |_|\___|\__,_|\__,_|_|\___|_|   
                                                                                    
                                                                                    
Figlet font Big <a href="https://run.plnkr.co/plunks/ZEkhoGgs4ntDZzT0" target="ACE">https://run.plnkr.co/plunks/ZEkhoGgs4ntDZzT0</a> 
</pre>
*/
</div>
<br>






















<script>
  console.clear();

// and Luberth said he prefers not to use JQuery
// and now he creates his own JaBaDabba script
// id() short for document.getElementById()
// makes the code much better readable for me even better as JQquery $()
//
// id("label_monday").style.borderColor = "green";
// same as
// document.getElementById("label_monday").style.borderColor = "green";
function id(id) { 
  return document.getElementById(id); 
}

// classname() short for document.getElementsByClassName()
function classname(classname) { 
  return document.getElementsByClassName(classname);
}




// ESP8266 ESP32 webserver should set next on pageload?
// with %template_placeholder% variable replace on load?
// https://github.com/me-no-dev/ESPAsyncWebServer#template-processing
// but the % sign is a bit tricky i would say if not an even number page may be messed up by other % signs
  
  //let monday_timeslots = [%monday_times_from_ESP_on_upload%];       // %vaiable% filled with variables in ESP on upload
  
  let monday_timeslots = [450,990,15,135,240,285,1200,1440];          // timeslots pairs of 2 in minutes of day
  let tuesday_timeslots = [0,60,300,360,600,660,900,960,1200,1260];   // timeslots pairs of 2 in minutes of day
  let wednesday_timeslots = [0,300,360,660,900,1260];                 // timeslots pairs of 2 in minutes of day
  let thursday_timeslots = [0,300,660,900,1200,1440];                 // timeslots pairs of 2 in minutes of day
  let friday_timeslots = [0,30,360,1260];                             // timeslots pairs of 2 in minutes of day
  let saturday_timeslots = [0,720];                                   // timeslots pairs of 2 in minutes of day
  let sunday_timeslots = [720,1440];                                  // timeslots pairs of 2 in minutes of day
// ESP8266 ESP32 webserver should set above on pageload?

  let timeslots = monday_timeslots; 
  var daytext;
///////////////////////////////////////////////////
// send_to_ESP()
// test add a dayname to the array
// https://stackoverflow.com/questions/44746912/adding-array-name-to-anonymous-array-in-a-json-string
////////////////////////////////////////////////////////////////////////////////
function send_to_ESP(){                              // call by save and delete
    var dy=daytext;
    var ts=timeslots;
    timeslot_to_ESP = {dy,ts};        // active day timeslot
    console.log("send_to_ESP() ? ",JSON.stringify( timeslot_to_ESP ));  // active day timeslot

    websocket.send(JSON.stringify( timeslot_to_ESP ));  // send the websocket to ESP
    // {"dy":"Tue","ts":[0,60,300,360,600,660,900,960,1200,1260]}

}
// if changes are made send it to ESP8266 ESP32 webserver?
// https://m1cr0lab-esp32.github.io/remote-control-with-websocket/





////////////////////////////////////////////////////////////
// copy_schema(wichtimeslot)
// wichtimeslot holds the day to paste current timeslot in
////////////////////////////////////////////////////////////
function copy_schema(wichtimeslot){
    console.log("copy_schema to ",wichtimeslot);
    if(wichtimeslot=="monday"){
      monday_timeslots=[];                // empty timeslot
      monday_timeslots= timeslots;        //  
    }
    if(wichtimeslot=="tuesday"){
      tuesday_timeslots=[]; 
      tuesday_timeslots= timeslots;
    }
    if(wichtimeslot=="wednesday"){
      wednesday_timeslots=[]; 
      wednesday_timeslots= timeslots;
    }
    if(wichtimeslot=="thursday"){
      thursday_timeslots=[]; 
      thursday_timeslots= timeslots;
    }
    if(wichtimeslot=="friday"){
      friday_timeslots=[]; 
      friday_timeslots= timeslots;
    }
    if(wichtimeslot=="saturday"){
      saturday_timeslots=[]; 
      saturday_timeslots= timeslots;
    }
    if(wichtimeslot=="sunday"){
      sunday_timeslots=[]; 
      sunday_timeslots= timeslots;
    }



    if(wichtimeslot=="weekdays"){    // monday to friday
      monday_timeslots=[]; 
      monday_timeslots= timeslots;
    
      tuesday_timeslots=[]; 
      tuesday_timeslots= timeslots;
    
      wednesday_timeslots=[]; 
      wednesday_timeslots= timeslots;
    
      thursday_timeslots=[]; 
      thursday_timeslots= timeslots;
    
      friday_timeslots=[]; 
      friday_timeslots= timeslots;
    }

  // change option text and ok button text for a moment  
  id("firstoption").innerHTML = "Copy Done!";
  id("copyokbutton").value = "Sending to Server!";
  // reset text after 2.5 second
  setTimeout( () => {    
      id("copyokbutton").value = "OK";
      id("firstoption").innerHTML = "Select Day";
  }, 2500 );

  id("days").value="none";
}




  function setZoom(value) {
        document.body.style.zoom = value+'%';
    };




/////////////////////////////////////////////////////
// check radio labels weekdays
/////////////////////////////////////////////////////
function checkit(wich) {
   console.log("wich ",wich);
  timeslots = [];
  if (id("radio_monday").checked) {
    daytext="Mon";
    timeslots = monday_timeslots;                           // load selected day in timeslots
    drawtimeslots();
    id("day").innerHTML = "<h1>Monday</h1>";
    id("copyday").innerHTML = "Monday";
    //id('radio_monday').checked
    console.log("radio_monday");
    id("label_monday").style.color = "green";
    id("label_monday").style.borderColor = "green";
  } else {
    id("label_monday").style.color = "gray";
    id("label_monday").style.borderColor = "gray";
  }

  if (id("radio_tuesday").checked) {
    daytext="Tue";
    timeslots = tuesday_timeslots;                           // load selected day in timeslots
    drawtimeslots();
    id("day").innerHTML = "<h1>Tuesday</h1>";
    id("copyday").innerHTML = "Tuesday";
    //id('radio_tuesday').checked
    console.log("radio_tuesday");
    id("label_tuesday").style.color = "green";
    id("label_tuesday").style.borderColor = "green";
  } else {
    id("label_tuesday").style.color = "gray";
    id("label_tuesday").style.borderColor = "gray";
  }

  if (id("radio_wednesday").checked) {
    daytext="Wed";
    timeslots = wednesday_timeslots;                           // load selected day in timeslots
    drawtimeslots();
    id("day").innerHTML = "<h1>Wednesday</h1>";
    id("copyday").innerHTML = "Wednesday";
    //id('radio_wednesday').checked
    console.log("radio_wednesday");
    id("label_wednesday").style.color = "green";
    id("label_wednesday").style.borderColor = "green";
  } else {
    id("label_wednesday").style.color = "gray";
    id("label_wednesday").style.borderColor = "gray";
  }

  if (id("radio_thursday").checked) {
    daytext="Thu";
    timeslots = thursday_timeslots;                           // load selected day in timeslots
    drawtimeslots();
    id("day").innerHTML = "<h1>Thursday</h1>";
    id("copyday").innerHTML = "Thursday";
    //id('radio_thursday').checked
    console.log("radio_thursday");
    id("label_thursday").style.color = "green";
    id("label_thursday").style.borderColor = 'green'
  } else {
    id("label_thursday").style.color = "gray";
    id("label_thursday").style.borderColor = "gray";

  }

  if (id("radio_friday").checked) {
    daytext="Fri";
    timeslots = friday_timeslots;                           // load selected day in timeslots
    drawtimeslots();
    id("day").innerHTML = "<h1>Friday</h1>";
    id("copyday").innerHTML = "Friday";
    //id('radio_friday').checked
    console.log("radio_friday");
    id("label_friday").style.color = "green";
    id("label_friday").style.borderColor = 'green'
  } else {
    id("label_friday").style.color = "gray";
    id("label_friday").style.borderColor = 'gray'
  }

  if (id("radio_saturday").checked) {
    daytext="Sat";
    timeslots = saturday_timeslots;                           // load selected day in timeslots
    drawtimeslots();
    id("day").innerHTML = "<h1>Saturday</h1>";
    id("copyday").innerHTML = "Saturday"; 
    //id('radio_saturday').checked
    console.log("radio_saturday");
    id("label_saturday").style.color = "green";
    id("label_saturday").style.borderColor = "green";
  } else {
    id("label_saturday").style.color = "gray";
    id("label_saturday").style.borderColor = "gray";
  }

  if (id("radio_sunday").checked) {
    daytext="Sun";
    timeslots = sunday_timeslots;                           // load selected day in timeslots
    drawtimeslots();
    id("day").innerHTML = "<h1>Sunday</h1>";
    id("copyday").innerHTML = "Sunday"; 
    //id('radio_saturday').checked
    console.log("radio_sunday");
    id("label_sunday").style.color = "green";
    id("label_sunday").style.borderColor = "green";
  } else {
    id("label_sunday").style.color = "gray";
    id("label_sunday").style.borderColor = "gray";
  }
}



//////////////////////////////////////////
// offtimechange
/////////////////////////////////////////
function offtimechange(){
  console.log("function offtimechange(){");
   if(id("offtime").value == "00:00"){
        id("offtime").value="24:00";                         // if offtime is 00:00 set it to 24:00
  }
}


/////////////////////////////////////////////////////////////////////////////////////////////////////
// call from HTML delete button   <input type="button" value="Delete" onclick="deletebutton()"> 
///////////////////////////////////////////////////////////////////////////////////////////////////
function deletebutton(){
    console.log("deletebutton clicked");
    console.log("timeslotpointer  ",timeslotpointer);
    
    if(timeslotpointer===""){return;}                  // timeslotpointer is from function timeslotclicked(wich)
    timeslots.splice( timeslotpointer, 2);             // remove 2 from timeslotarray
    timeslotpointer = "";                              // otherwise if delete is clicked again it will remove other

    domessage();
    showhideeditpopup();
    drawtimeslots();
    savefromedit = 0;                                  // do not know, have some strange overwrite / delete
                                                       // its a flag used when save button is clicked
    send_to_ESP();
}






//////////////////////////////////////////////////////////////////////////////////////////////
// call from HTML cancel button <input type="button" value="Cancel" onclick="cancelbutton()"> 
//////////////////////////////////////////////////////////////////////////////////////////////
function cancelbutton(){
  showhideeditpopup();
  id('innerDiv').style.left='';   // erase edit timeslot green div drawing???????
  id('innerDiv').style.width='';
  id('startlabel').innerHTML='';
  id('endlabel').innerHTML='';
  
   savefromedit = 0;  
   selected_highlight = -1;                              // erase edit timeslot highlight
}








var timeslotpointer="";
var savefromedit=0;
var sorted;
var timeslotsnested;



//////////////////////////////////////
// time slot clicked edit or delete?
/////////////////////////////////////
function timeslotclicked(wich){   // div onclick gives/returns wich,   onclick="timeslotclicked(`+i+`)"
    timeslotdivclick = 1;         // i do not now a flag to keep outerdiv click away cq return from outerdiv click
                                  // maybe because of (i used why dont know)  different z-index for innerdiv and outerdiv
                                  // maybe an overlaying div is clicked first followed by underlaying div, i dont know
    console.log("timeslotclicked",wich);
    timeslotpointer = wich;

    selected_highlight = wich;                        // wich timeslot edit highlight color
  
 


    id("addoredit").innerHTML="EDIT TimeSlot";
    id("deletebutton").disabled = false;   // enablee the delete button
    id("deletebutton").hidden = false;     // not hide the delete button, show delete button
    showhideeditpopup();                                        // show edit popup

    // wich holds the array position of first data we need in minutes
    id("ontime").value=toHoursAndMinutes(timeslots[wich]);  // get minute data from timeslot array and convert to hh:mm for text input field
    id("offtime").value=toHoursAndMinutes(timeslots[wich+1]);
    savefromedit=1;                                 // a flag for savebutton
// if changes need to modify the timeslot array data
 
}





//////////////////////////////////////////////////////////////////////////////////////////
// save time slot
// call from HTML save button <input type="button" value="Save" onclick="savetimeslot()"> 
// save button pressed, save to timeslot array 
//////////////////////////////////////////////////////////////////////////////////////////
function savetimeslot() {

     if(id("offtime").value == "00:00"){
        id("offtime").value="24:00";                         // if offtime is 00:00 set it to 24:00
         console.log("change 00:00 to 24:00");
  }
    
    var onhhmm = id("ontime").value;
    var offhhmm = id("offtime").value;
    console.log("onval, offval", onhhmm, offhhmm);

    showhideeditpopup();          // hide edit popup


  if(savefromedit==1){
      console.log("savefromedit",savefromedit);
      // here from a save click from possible modified timeslot save
      // edit timeslot overwrite values in timeslot array
        console.log("timeslotpointer",timeslotpointer);
        timeslots[timeslotpointer] = hhmm_to_minutes(id("ontime").value);     // change the values in the timeslot array
        timeslots[timeslotpointer+1] = hhmm_to_minutes(id("offtime").value);  // hh:mm to minutes
        savefromedit=0;
  }else{
        // push / add values pair to a new timeslot array             hh:mm to minutes
        timeslots.push(hhmm_to_minutes(id("ontime").value) , hhmm_to_minutes(id("offtime").value));
  }


/////////////////////////////////////////////////////////////////
// test nest 
// try overlapping when sort is on
// timeslots.sort(function(a, b){return a - b});   // sort array following order of values
// should do something to prevent overlapping the pairs mix in new pairs
// make an aray in array, nested array? [[0,0],[0,0],[0,0]] do not know how to do that in javascript
// so that the paris stay pairs
//
// this creates a nested array from timeslots
// https://stackoverflow.com/questions/44937470/turning-an-array-into-a-multidimensional-array-javascript
timeslotsnested = timeslots.reduce((a, c, i) => {
  return i % 2 === 0 ? a.concat([timeslots.slice(i, i + 2)]) : a;
}, []);
//$('pre.message2').html("timeslotsnested"+JSON.stringify(timeslotsnested)); //jquery
id('message2').innerHTML = ("timeslotsnested"+JSON.stringify(timeslotsnested));//javascript
console.log("timeslotsnested ",timeslotsnested);

/*
(5) [Array(2), Array(2), Array(2), Array(2), Array(2)]
0: (2) [450, 990]
1: (2) [15, 135]
2: (2) [240, 285]
3: (2) [1200, 1440]
4: (2) [387, 402]
length: 5
*/
////////////////////////////
// sort a nested array???
sorted=timeslotsnested.sort((a,b) => a[0] - b[0]);
//$('pre.message3').html("nestedsorted"+JSON.stringify(sorted));  //jquery
id('message3').innerHTML = ("nestedsorted"+JSON.stringify(sorted));//javascript

console.log("nestedsorted?",sorted);
/*
nestedsorted? 
(5) [Array(2), Array(2), Array(2), Array(2), Array(2)]
0: (2) [15, 135]
1: (2) [240, 285]
2: (2) [363, 1110]
3: (2) [450, 990]
4: (2) [1200, 1440]
length: 5
*/
////////////////////////////
// empty timemeslots array
var nestedsorted=sorted;
timeslots.length = 0;                            // Clear contents
// next line makes no sense?
// timeslots.push.apply(timeslots, nestedsorted);   // push put nestedsorted in timeslots

console.log("timeslots ",timeslots);

// go from nested array to single array again
var newArray = Array.prototype.concat.apply([], nestedsorted);
console.log("newArray",newArray);
timeslots.length = 0;                  // Clear contents
timeslots.push.apply(timeslots, newArray);
// thats silly, this is stupid 
////////////////////////////////



/******************************************************
* block a timeslot to go / past overlap next timeslot
*******************************************************/
for (let i = 0; i < timeslots.length; i=i+2) {
 if(timeslots[i+1] >= timeslots[i+2]){            // compare off to next on
      timeslots[i+1]=timeslots[i+2];          
      alert(`
      cannot create that endpoint,\n`
      +toHoursAndMinutes(timeslots[i+3])+
      ` not reached`
      +id("offtime").value+
      `\n`
      + toHoursAndMinutes(timeslots[i+1]) +
      `-`
      + toHoursAndMinutes(timeslots[i+2])  +
      ` remove`);

 }
}  

// delete the points that are in middle of selection timeslot overlap
for (let i = 0; i < timeslots.length; i=i+2) {
  if(timeslots[i+1] == timeslots[i+2]){          // compare off to next on
      timeslots.splice( (i+1), 2);               // if off & next on the same, delete both from array
  }
}  
//////////////////////////////////////////////
    console.log("timeslots ",timeslots);
    

    domessage();  
    drawtimeslots();
    send_to_ESP();


}








/////////////////////////////////////////////////////////////////////////////////////////////
// write messsage to html <pre id="" or class=""> will be replaced, message goes here </pre> 
/////////////////////////////////////////////////////////////////////////////////////////////
function domessage(){    
    // next muttiline because use of ` = ~ tilde key lef side number keys keyboard
    // Alternatively known as acute, backtick, left quote, or an open quote, 
    // the back quote or backquote is a punctuation mark (`). 
    // It's on the same U.S. computer keyboard key as the tilde ~.
    
    // just for easy compare to minutes next hours array has no other use
    const hourarray=[];
    for (var i=0 ;  i < timeslots.length; i++) {
          hourarray[i]=toHoursAndMinutes(timeslots[i]);
    }   


// when i compare this to other sites the vissiblity calculated is not correct
// https://hemel.waarnemen.com/applets/missiemaan.cgi
// https://www.kalender-365.nl/maan/actuele-maanstand.html
// they say 6% i get 15%
var moonval=moon.phase;
if(moon.phase > 0.5)moonval=1-moon.phase; // moon.phase  0.9220658851746119
console.log("moonval",moonval);
// moonval=0.25;                          // 0.07797258947334718; i get 16% other sites say 6%

// map moonval in range 0 to 0.5 to scale 0% to 100%
var moonvisible=Math.round(map_range(moonval,0,0.5,0,100)); 

// a message writen to <pre class="message"></pre> in the html
$('pre.message').html(`                            
    <p style=\"color:red\">timeslots array length `
    +timeslots.length+
    "<br>timeslots in minutes <br>"
    +timeslots+
    `<br><br>in hours<br>`
    +hourarray+`
    <br>moon.phase 0 to 1, 0,5 is full moon?<br>`
    +moon.phase+'<br>Moon visible '
    +moonvisible+
    `% (not correct, not square)</p>`);  // not squares, circle segments

}

var selected_highlight;


// left() of a sting maybe a bit Basica, GWBasic, Qbasic ;-)
// var num = "1008px".left(4);
// https://stackoverflow.com/questions/490508/left-function-in-javascript-or-jquery
String.prototype.left = function(n) {
    return this.substring(0, n);                 // return n number of characters on left side of string
}


/////////////////////////////////////
// drawtimeslots
/////////////////////////////////////
function drawtimeslots(){
// draw timeslots array
 
 
  id('innerDiv').style.left='';   // erase edit timeslot???????
  id('innerDiv').style.width='';
  id('startlabel').innerHTML='';
  id('endlabel').innerHTML='';
 // draw timeslots array
  $("div.timeslot").remove(); // remove all previous generated divs with Class timeslot 
  $("div.slabel").remove(); // remove all previous generated divs with Class timeslot 
  $("div.elabel").remove(); // remove all previous generated divs with Class timeslot 
  $("div.startlabel").remove(); // remove all previous generated divs with Class timeslot 
  $("div.endlabel").remove(); // remove all previous generated divs with Class timeslot 
  for (let i = 0; i < timeslots.length; i=i+2) {
    console.log("timeslots[i] and [i+1]", timeslots[i]," ",timeslots[i+1]);
   

     var left=map_range(timeslots[i],  0,1440,0,100);              // scale time in range 0to1440 to 0 to 100%
     var width=map_range(timeslots[i+1],  0,1440,0,100)-left;      // scale time in range 0to1440 to 0 to 100%
     width=width.toFixed(2);   // to 2 decimals;
     console.log("left width",left," ",width);

    var timeslotcolor = "rgba(44,44, 99, 0.6)";   // use RGBA color opacity 0.6
    var label_opacity = 100;                      // opacity for timeslot time text labels
    var timeslot_opacity = 80;
    if(i == selected_highlight){
        timeslotcolor = "rgba(100,200, 250, 0.6)";  // use RGBA highlight color edit timeslot
        label_opacity = 60;                         // if edit timeslot, shade original timeslot time text labels
        timeslot_opacity = 40;
    }      

// want to remove leading zero from timelabel
var ontext = toHoursAndMinutes(timeslots[i]);
console.log("ontext.left(1) ",ontext.left(1)+" "+ontext);
if (ontext.left(1)=="0"){ontext=ontext.substring(1);} // want to remove leading zero from timelabel
console.log("ontext.left(1) ",ontext.left(1)+" "+ontext);


// want to remove leading zero from timelabel
var offtext = toHoursAndMinutes(timeslots[i+1]);
console.log("offtext.left(1) ",offtext.left(1)+" "+offtext);
if (offtext.left(1)=="0"){offtext=offtext.substring(1);} // want to remove leading zero from timelabel
console.log("offtext.left(1) ",offtext.left(1)+" "+offtext);


// fontsize for time labels underneath the timeslots
// maybe if slots are close together, change fontsze to smaller
// or nouislider has a join merging https://refreshless.com/nouislider/examples/#section-merging-tooltips
// or do a webkit rotate label
var fontsize;          // nochange     
// var fontsize = 12;  // px


    //debugger;

      // problem with opacity , timetext labels
      // The opacity of the parent's background sets the maximum perceived opacity of the child elements.
      // child div class "slabel" opacity can never be made greater as parent "timeslot"
      // thats why the time text labels are fade, and i can not change it
      // workaround set background-color RGBA color with opacity value in color for <div class="timeslot" 

     $(".outerDiv").append(   // draw timeslots and textlabels underneath
          `<div class="timeslot" data-index="`
          +i+
          `" onclick="timeslotclicked(`+i+`)" style="position:absolute;height:50px;background-color:`
          +timeslotcolor+
          `;top:0px;left:`
          +left+    
          `%;width:`
          +width+
          `%;z-index:40;opacity:`
          +timeslot_opacity+
          `%;">
          <div class="slabel" style="position: absolute; color: green; background-color: green; height: 20px; width: 1px; left: 0%; top: 55px;opacity:`
          +label_opacity+  // next child startlabel takes same opacity
          `%;">
          <div  class="startlabel" style="position: absolute; color: green; background-color: green; height: 0px; width: 1px; left: -17px; top: 15px;font-size:`
          +fontsize+
          `px;">`
          +ontext+   
          `</div></div>
          <div class="elabel" style="position: absolute; color: red; background-color: red; height: 20px; width: 1px; left: 100%; top: 55px;opacity:`
          +label_opacity+  // next child endlabel takes same opacity
          `%;">
          <div class="endlabel" style="position: absolute; color: red; background-color: red; height: 0px; width: 1px; left: -17px; top: 30px;font-size:`
          +fontsize+
          `px;">`
          +offtext+  
          `</div>
          </div>
          </div>`
     ); 

  } // end for

}




////////////////////////////////////////
// showhideeditpopup();             // toggle show hide on each call 
// showhideeditpopup("show");       // show
// showhideeditpopup("hide");       // hide
////////////////////////////////////////
function showhideeditpopup(showorhide) {
  if (showorhide == "show") {
      id("editpopup").style.display = "block";           // show from function parameter   showhideeditpopup(show);
      document.body.style.backgroundColor="#c3c3c3";                              // make body background a little darker so that popup stands out?         
                              
  } else if (showorhide == "hide") { 
      id("editpopup").style.display = "none";            // hide from function parameter     showhideeditpopup(hide);
      document.body.style.backgroundColor= "";                                  // reset body background to lighter shade
     
  }else {
    if (id("editpopup").style.display === "none") {      // toggle = show  showhideeditpopup();
      id("editpopup").style.display = "block";
      document.body.style.backgroundColor="#c3c3c3";                           // make body background a little darker so that popup stands out? 
     
    } else {
      id("editpopup").style.display = "none";            // toggle = hide    showhideeditpopup();
      document.body.style.backgroundColor= "";                                   // reset body background to lighter shade
      
    }
  }
  drawtimeslots(); // if you close by x green selection may be left if not closed bij cancel or save
}






 

var innerdivclick=0;
var timeslotdivclick=0;
var sunclicked=0;
/////////////////////////////////
// think next is not used anymore
$( "#innerDiv" ).on( "click", function() {
    // $('pre.message').html("edit / remove timeslot popup");
    console.log("innerdiv clicked");
    innerdivclick=1;
 });
 // do not know open analog time picker if textlabel is clicked
$( "#startlabel" ).on( "click", function() {
    // $('pre.message').html("slabel click");
    console.log("slabel clicked");
    $("#ontime").focus();
    
    //return;
 });
  $( "#endlabel" ).on( "click", function() {
    // $('pre.message').html("elabel click");
    console.log("elabel clicked");
    $("#offtime").focus();
    //return;
 }); 

// think above is not used anymore
//////////////////////////////////////

// click on timescale added new slots inside timeslots
// https://stackoverflow.com/questions/5259191/disable-clicking-of-a-divs-element
//$(".outerDiv").children().bind('click', function(){ 
//  console.log("click event is turned off for this")
  //return false; 
//});

// next no use

function sunriselabelclicked(){
  // call from HTML onclick
  sunclicked=1;                     // a flag to return from outerdiv click 
  //showhideeditpopup("hide");
  console.log("function sunriselabelclicked(){");
  // maybe set ontime an hour before sunrisetime
  // maybe set offtime to sunrisetime
}



function sunsetlabelclicked(){
  // call from HTML onclick
  sunclicked=1;                     // a flag to return from outerdiv click 
  //showhideeditpopup("hide");
  console.log("function sunsetlabelclicked(){");
  // maybe set ontime to sunsettime
  // maybe set offtime to hor after sunsettime
}


/*
$(document).on('click', '.sunriselabel', function(event) {
  event.stopPropagation(); 
  event.preventDefault();
  //sunclicked=1; 
  //console.clear();
  console.log('sunrise Child Clicked');
});

$(document).on('click', '.sunsetlabel', function(event) {
  event.stopPropagation();
  event.preventDefault();
  //sunclicked=1; 
  //console.clear();
  console.log('sunset Child Clicked');
});
*/


$( ".timeslot" ).on( "click", function() {
    console.log("timeslot function click");
});




/*
              _               _ _                          _ _      _    
   ___  _   _| |_ ___ _ __ __| (_)_   __   ___  _ __   ___| (_) ___| | __
  / _ \| | | | __/ _ \ '__/ _` | \ \ / /  / _ \| '_ \ / __| | |/ __| |/ /
 | (_) | |_| | ||  __/ | | (_| | |\ V /  | (_) | | | | (__| | | (__|   < 
  \___/ \__,_|\__\___|_|  \__,_|_| \_/    \___/|_| |_|\___|_|_|\___|_|\_\
                                                                         
Figlet font Standard https://run.plnkr.co/plunks/ZEkhoGgs4ntDZzT0/ 
*/
// $("#outerDiv").on("click", function(event) { // jquery
id( "outerDiv" ).addEventListener("click", function(event){    // javascript
  //event.stopPropagation(); 
  //event.preventDefault();
  selected_highlight = -1;        // erase edit timeslot highlight
  if(innerdivclick==1){           // outerdiv click comes after innerdivclick
    showhideeditpopup("show");
    innerdivclick=0;
    return;                       // i want to return to the innerdiv click              
  }
   if(timeslotdivclick==1){       // outerdiv click comes after innerdivclick
    timeslotdivclick=0;
    return;                       // i want to return to the timeslotdivclick
  }

  if(sunclicked==1){              // outerdiv click comes after innerdivclick
    sunclicked=0;
    return;                       // i want to return to the timeslotdivclick
  }

   id("addoredit").innerHTML="Add New TimeSlot";                 // text on showhideeditpopup changes from add or edit timeslot
   id("deletebutton").disabled = true;  // greyout disable the delete button
   id("deletebutton").hidden = true;    // hide the delete button
   showhideeditpopup("show");

   // $('pre.message').html("new add / edit / save timeslot popup");
   console.log("outerdiv clicked");
   savefromedit=0;
   let outerDiv = id('outerDiv');
   

  id('innerDiv').style.width = event.clientX-outerDiv.offsetLeft+'px';
  console.log("mouse click x position on outerdiv ",event.clientX-outerDiv.offsetLeft);
  console.log("outerDiv width ",outerDiv.offsetWidth);
         
         // map_range returns a float that does not work for later convert to hh:mm 
         // but the float is better for left% width% scaling otherwise the selections are of target
  var clickposinminutes=Math.round(map_range((event.clientX-outerDiv.offsetLeft),0, outerDiv.offsetWidth,0,1440));
  console.log("clickposinminutes ",clickposinminutes);

  var hhmm=toHoursAndMinutes(clickposinminutes);              // add 15 minutes for timeslot
  var hhmmplus15=toHoursAndMinutes(clickposinminutes+15);
  if(clickposinminutes+15>=1440)hhmmplus15="24:00";
  console.log("hhmm ",hhmm);
  id("ontime").value=hhmm;               // set on time textfield
  id("offtime").value=hhmmplus15;        // set off time textfield

  drawtemp();
});















// https://stackoverflow.com/questions/60923136/how-to-get-the-width-on-where-the-mouse-clicks-a-div        
function changeWidth(event) {
/*  
  let outerDiv = document.getElementById('outerDiv');
 
  document.getElementById('innerDiv').style.width = event.clientX-outerDiv.offsetLeft+'px';
  console.log(event.clientX-outerDiv.offsetLeft);
  console.log(outerDiv.offsetWidth);
         
  var clickposinminutes=map_range((event.clientX-outerDiv.offsetLeft),0, outerDiv.offsetWidth,0,1440)
  console.log("clickposinminutes ",clickposinminutes);
  var hhmm=toHoursAndMinutes(clickposinminutes);
  var hhmmplus15=toHoursAndMinutes(clickposinminutes+15);
  if(clickposinminutes+15>=1440)hhmmplus15="24:00";
  console.log("hhmm ",hhmm);
  document.getElementById("ontime").value=hhmm;
  document.getElementById("offtime").value=hhmmplus15;

  drawtemp();
  */
}
 


///////////////////////////////////////////////////////////////////////////
// arduino alike map function == Re-maps a number from one range to another. 
// https://www.arduino.cc/reference/en/language/functions/math/map/ 
// https://stackoverflow.com/questions/5649803/remap-or-map-function-in-javascript
// scale range 1 into range2 bar range to 0 to 1440 minute range  
// or 
// scale a minutevalue in range 0 to 1440 minutes to 0% to 100%,  used for left and width of timeslot divs
///////////////////////////////////////////////////////////////////////////////
function map_range(value, low1, high1, low2, high2) {
    return (low2 + (high2 - low2) * (value - low1) / (high1 - low1)).toFixed(3);   // to 3 decimals, Math.round did not scale right
}



///////////////////////////////////////////////////////////////     
// 0 to 1440 minutes in a day convert timeinminutes to hh:mm  
// https://codingbeautydev.com/blog/javascript-convert-minutes-to-hours-and-minutes/#:~:text=To%20convert%20minutes%20to%20hours%20and%20minutes%20in%20JavaScript%2C%20divide,the%20remainder%20of%20the%20division.    
/////////////////////////////////////////////////////////////////////////////
function toHoursAndMinutes(totalMinutes) {
  if(totalMinutes>=1440)totalMinutes=1440;       // max 24:00
  var hours = Math.floor(totalMinutes / 60);
  var minutes = totalMinutes % 60;
  if (hours<=9){hours='0'+hours;} 
  if (minutes<=9){minutes='0'+minutes;}         // add a zero if <= 9

  return (hours+":"+minutes) ;
}



/////////////////////////////////////
// convert hh:mm to time in minutes 
////////////////////////////////////
function hhmm_to_minutes(hhmm) {
  console.log("hhmm_to_minutes(hhmm) ",hhmm);

  var hhmm_array = hhmm.split(':');                                       // split hh:mm  at the colons
  var timeinminutes = (+hhmm_array[0]) * 60 + (+hhmm_array[1]);          // Hours are worth 60 minutes
  
  console.log("timeinminutes ",timeinminutes);

  return (timeinminutes) ;
}




//////////////////////////////////////////
// draw selection on bar from text input 
/////////////////////////////////////////
function drawtemp (){
  // document.getElementById("ontime").value;                                     // get time from on text field
  // document.getElementById("offtime").value;                                    // get time from off text field
  
  
  if(id("offtime").value == "00:00"){
        id("offtime").value="24:00";                         // if offtime is 00:00 set it to 24:00
  }

  
  var startminutes = hhmm_to_minutes(id("ontime").value);    // convert hh:mm to minutes                       
  var endminutes = hhmm_to_minutes(id("offtime").value);     // convert hh:mm to minutes  

  console.log("start / endminutes",startminutes," / ",endminutes)

  var divwidth=outerDiv.offsetWidth;

  // console.log("map div pos",map_range(startminutes,  0,1440,0,divwidth));
  // console.log("map div pos",map_range(endminutes,  0,1440,0,divwidth));           
  
// better not in pixels /////////////////////////////
      var startpos=map_range(startminutes,  0,1440, 0,(outerDiv.offsetWidth));   // scale startminutes in  range 0...1440 to div size
      var endpos=map_range(endminutes,  0,1440, 0,(outerDiv.offsetWidth));       // scale endminutes in  range 0...1440 to div size
      id('innerDiv').style.left=(startpos)+'px';
      id('innerDiv').style.width=(endpos-startpos)+'px';
// do left and width in % not in px  
// do it again better in % above in px did strange on screen rotate
      var startpos = map_range(startminutes,  0,1440, 0,100);                    // scale startminutes in  range 0...1440 to 0 to 100%
      var endpos = map_range(endminutes,  0,1440, 0,100);                        // scale endminutes in  range 0...1440 to 0 to 100%
      id('innerDiv').style.left=(startpos)+'%';             // set left%
      id('innerDiv').style.width=(endpos-startpos)+'%';     // set width %
//////////////////////////////////////////////////

  id('startlabel').innerHTML=id("ontime").value;      // write hh:mm to label
  id('endlabel').innerHTML=id("offtime").value;       // write hh:mm to label

}






////////////////////////////////////////
// create the slider numbers and scale
// https://codepen.io/ldijkman/pen/XWyBPpG
///////////////////////////////////////
var pips = 96;                                // 24hour x 4quarters

for (i = 0; i <= pips; i = i + 1) {
  var number;
  var imod4 = i % 4;                          // for hour numbers
  // console.log("imod4", imod4);

  if (imod4 == 0) {
    number = i / 4;                            // for hour numbers 
  } else {
    number = "";                               // no number for 15, 30, 45, minutes
  } 

  var ruler = $(
    '\n\n<span class="ruler-pip">\n<span class="ruler-line" style="width:2px; color:black;"></span>\n<span class="ruler-number" style="position:absolute;">' +
      number +
      "</span>\n"
  );

  ruler.css({ left: "" + ((100 / pips) * i).toFixed(3) + "%" });
  ruler.css({ position: "absolute" });

  ruler.css({ top: "32px" });

  // console.log("left ", ((100 / pips) * i).toFixed(1), "%"); // 1 decimals

  $(".outerDiv").append(ruler);


  if (imod4 == 0) {
    $(".ruler-line").eq(i).css("height", "35px");       // hour line
    $(".ruler-line").eq(i).css("width", "2px");
    $(".ruler-line").eq(i).css("background", "black");
    $(".ruler-line").eq(i).css("left", "-1px");
  }
  if (imod4 == 1) {
    $(".ruler-line").eq(i).css("height", "10px");       // 15 minute line
    $(".ruler-line").eq(i).css("width", "1px");
    $(".ruler-line").eq(i).css("background", "gray");
    $(".ruler-line").eq(i).css("left", "-0.5px");
  }
  if (imod4 == 2) {
    $(".ruler-line").eq(i).css("height", "20px");       // 30 minute line
    $(".ruler-line").eq(i).css("width", "1px");
    $(".ruler-line").eq(i).css("background", "gray");
    $(".ruler-line").eq(i).css("left", "-0.5px");
  }
  if (imod4 == 3) {
    $(".ruler-line").eq(i).css("height", "10px");       // 45 minute line
    $(".ruler-line").eq(i).css("width", "1px");
    $(".ruler-line").eq(i).css("background", "gray");
    $(".ruler-line").eq(i).css("left", "-0.5px");
  }
}

$(".outerDiv").append(
  '<div class="selection" style="position:absolute;height:55px;background-color:green;opacity:50%;top:20px;left:50%;z-index:-1;"></div>'
);
//////////////////////////////////////////////
// END // create the slider numbers and scale
//////////////////////////////////////////////













// add div for time text label below timeslot selection
// you do not see this in the browser view page source
// use chrome browser inspect to see this in the generated source
$('#innerDiv').append('<div id="slabel" style="position: absolute; color: green; background-color: green; height: 20px; width: 1px; left: 0%; top: 55px;"><div  id="startlabel" style="position: absolute; color: green; background-color: green; height: 0px; width: 1px; left: -20px; top: 15px;"></div></div>');   
// endlabel bit lower so they do not overlap when close to eachother
$('#innerDiv').append('<div id="elabel" style="position: absolute; color: red; background-color: red; height: 20px; width: 1px; left: 100%; top: 55px;"><div id="endlabel" style="position: absolute; color: red; background-color: red; height: 0px; width: 1px; left: -20px; top: 30px;"></div></div>');              


// add divs for sunrise actualtime and sunset line and label
// you do not see this in the browser view page source
// use chrome browser inspect to see this in the generated source
$('.outerDiv').append('<div id="actualtime" class="actualtime" style="position: absolute; color: red; background-color: red; height: 30px; width: 1px; left: 50%; top:-30px;"><div id="acttimelabel" class="acttimelabel" style="position: absolute;top:-60px;left:-30px;border: 0px solid green;"></div></div>');                 
$('.outerDiv').append('<div id="sunrisel" class="sunrisel" style="position: absolute; color: grey; background-color: green; height: 40px; width: 1px; left: 0%; top: -40px;"><div id="sunriselabel" class="sunriselabel" onclick="sunrise_label_clicked()" style="position: absolute;top:-20px;left:-20px;border: 0px solid green;z-index:2000;"> sunrise</div></div>');            
$('.outerDiv').append('<div id="sunsetl" class="sunsetl" style="position: absolute; color: grey; background-color: green; height: 40px; width: 1px; left: 100%; top: -40px;"><div id="sunsetlabel" class="sunsetlabel" onclick="sunset_label_clicked()" style="position: absolute;top:-20px;left:-20px;border: 0px solid green;z-index:2000;"> sunset</div></div>');              


// add 3 divs for night shade and dayshine
// sunrise width % is later set changed
// sunset left % and width % is later set changed
// dayshine left % and width % is later set changed
// you do not see this in the browser view page source
// use chrome browser inspect to see this in the generated source
// z-index:-1 stops parent child clicks
$('.outerDiv').append('<div class="morning_shade" style="position:absolute;height:20px;background-color:gray;opacity:20%;top:-20px;z-index:-1;"></div>');
$('.outerDiv').append('<div class="dayshine" style="position:absolute;height:20px;background-color:yellow;opacity:20%;top:-20px;z-index:-1;"></div>');
$('.outerDiv').append('<div class="evening_shade" style="position:absolute;height:20px;background-color:gray;opacity:20%;top:-20px;z-index:-1;" ></div>');







// https://github.com/mourner/suncalc
// https://www.latlong.net/

// do not know make it global 
var times;
var sunrisemin;
var sunriseStr;
var sunsetmin;
var sunsetStr;
var moon;

// get today's sunlight times for                          // https://www.latlong.net/
// geolocation for sunrise sunset
// var lat=52.7354;
// var lon=5.1790;
function dogeoloc(){
  var lat=id('lat').value;
  var lon=id('lon').value;
  console.log(lat," : ",lon);
  times = SunCalc.getTimes(new Date(),lat,lon);
 

 moon = SunCalc.getMoonIllumination(new Date());
 console.log("moon ", moon); 
console.log("moon.phase ", moon.phase); 

// format sunrise time from the Date object
 sunrisemin =times.sunrise.getMinutes();
if(sunrisemin<=9)sunrisemin="0"+sunrisemin;                     // 0-9 add a zero
var sunriseStr = times.sunrise.getHours() + ':' + sunrisemin;

sunsetmin =times.sunset.getMinutes();
if(sunsetmin<=9)sunsetmin="0"+sunsetmin;                        // 0-9 add a zero
sunsetStr = times.sunset.getHours() + ':' + sunsetmin;

var currents=((times.sunrise.getHours()*60+times.sunrise.getMinutes())/1440)*100; ;
  for (let i = 0; i < 1; i++) {  
   //document.getElementsByClass('sunrisel')[i].style.left = currents+"%";   // time to percentage 0 to 100% set div position
  
   //document.getElementsByClass('sunrisel')[i].innerHTML = "<br><br><br>sunrise "+times.sunrise.getHours()+":"+sunrisemin; // set time text on div class actualtime
  }
  
var currents=((times.sunset.getHours()*60+times.sunset.getMinutes())/1440)*100; ;
  for (let i = 0; i < 1; i++) {  
   //document.getElementsByClass('sunsetl')[i].style.left = currents+"%";   // time to percentage 0 to 100% set div position
  
   //document.getElementsByClass('sunsetl')[i].innerHTML = "<br><br><br>sunset "+times.sunset.getHours()+":"+sunsetmin; // set time text on div class actualtime
  }  

// get position of the sun (azimuth and altitude) at today's sunrise
/////var sunrisePos = SunCalc.getPosition(times.sunrise, 52.7354, 5.1790);

// get sunrise azimuth in degrees
/////var sunriseAzimuth = sunrisePos.azimuth * 180 / Math.PI;

// https://github.com/mourner/suncalc
console.log(times);

console.log("sunrise "+sunriseStr);
console.log("sunset "+sunsetStr);

//console.log(sunrisePos);
//console.log(sunriseAzimuth);
//document.getElementsByClass('sunrise')[0].innerHTML =("<a href='http://www.google.com/search?q=52.7354,5.1790'>52.7354, 5.1790 </a> sunrise "+sunriseStr)+" ";
//document.getElementsByClass('sunset')[0].textContent =(" sunset "+sunsetStr)+" ";
//document.getElementsByClass('sunrise')[1].innerHTML =("<a href='http://www.google.com/search?q=52.7354,5.1790'>52.7354, 5.1790 </a> sunrise "+sunriseStr+" ");
//document.getElementsByClass('sunset')[1].textContent =(" sunset "+sunsetStr)+" ";  

/*  
const sunrise = document.querySelectorAll('.sunrise');
sunrise.forEach(sunrise => {
  //box.style.backgroundColor = 'purple'; box.style.width = '300px';
  //sunrise.innerHTML =("<!--"+lat+","+lon+"-->&nbsp;<a href='http://www.google.com/search?q="+lat+","+lon+"'>SunRise&nbsp;"+sunriseStr)+"&nbsp;</a>";
});



const sunset = document.querySelectorAll('.sunset');
sunset.forEach(sunset => {
  //box.style.backgroundColor = 'purple'; box.style.width = '300px';
  //sunset.innerHTML =("<a href='http://www.google.com/search?q="+lat+","+lon+"'>SunSet&nbsp;"+sunsetStr)+"</a>&nbsp;&nbsp;&nbsp;"; 
});
*/
}

 
 dogeoloc();





///////////////////////////////////////////////////////////////////////////
// doiteverysecond() doiteverysecond() doiteverysecond() doiteverysecond() 
///////////////////////////////////////////////////////////////////////////
function doiteverysecond() {

  // console.log("Using JavaScript version:", navigator.userAgent);
  // console.log("websocket.readyState ",websocket.readyState;

  if(window.innerHeight > window.innerWidth){
        id('pleaserotatetolandscape').innerHTML="<h4>Rotate device to LandScape?</h4>";
  }else{
        // erase rotatemessage if in landscape"
        id('pleaserotatetolandscape').innerHTML="";
  }


  if(self!==top){     // if document is iframed show a message,   Go Full Screen,it works Better!
        id("gofullscreenmessage").innerHTML='<h3><a href="https://ldijkman.github.io/randomnerd_esp32_wifi_manager/mrs/create_from_scratch/index.html" target="fullscreen">Go Full Screen,it works Better!</a></h3>';
  }else{      // erase
        id("gofullscreenmessage").innerHTML="";
  } 


  const now = new Date();
  const current = (((now.getHours() * 60) + now.getMinutes())/1440)*100;       // time to percentage 0 to 100% set div position
  var sec;
  var min;
  
  var days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
  var dayName = days[now.getDay()];

   
   
   
  if(now.getMinutes()<=9)min="0"+now.getMinutes(); else min=now.getMinutes();  // a leading zer0 if 0 to 9
  if(now.getSeconds()<=9)sec="0"+now.getSeconds(); else sec=now.getSeconds();  // a leading zer0 if 0 to 9

 for (let i = 0; i < 1; i++) {  
      classname('actualtime')[i].style.left = current+"%";   // time to percentage 0 to 100% set div position
  
      classname('actualtime')[i].innerHTML = "<div id=\"acttimelabel\" class=\"acttimelabel\" style=\"position: absolute;top:-60px;left:-30px;border: 0px solid green;z-index:-1;\">" +dayName+" "+now.getHours()+":"+min+":"+sec+"</div>"; // set time text on div class actualtime
 }

 var currents=((times.sunrise.getHours()*60+times.sunrise.getMinutes())/1440)*100; ;
  var sunrisecur=currents;
  for (let i = 0; i < 1; i++) {  
      classname('sunrisel')[i].style.left = currents+"%";   // time to percentage 0 to 100% set div position
  
      classname('sunrisel')[i].innerHTML = "<div id=\"sunriselabel\" class=\"sunriselabel\" onclick=\"sunriselabelclicked()\" style=\"position: absolute;top:-35px;left:-20px;border: 0px solid green;\"> sunrise "+times.sunrise.getHours()+":"+sunrisemin; +"</div>";// set time text on div class actualtime
 
      classname('evening_shade')[i].style.width= currents+"%";  // gray shade before sunrise
  }
  
var currents=((times.sunset.getHours()*60+times.sunset.getMinutes())/1440)*100; ;
  var sunsetcur=currents;
  for (let i = 0; i < 1; i++) {  
      classname('sunsetl')[i].style.left = currents+"%";   // time to percentage 0 to 100% set div position
  
      classname('sunsetl')[i].innerHTML = "<div id=\"sunriselabel\" class=\"sunsetlabel\" onclick=\"sunsetlabelclicked()\" style=\"position: absolute;top:-35px;left:-20px;border: 0px solid green;z-index:0;\"> sunset "+times.sunset.getHours()+":"+sunsetmin+"</div>"; // set time text on div class actualtime
 
      classname('morning_shade')[i].style.width= (100-currents)+"%";  // gray shade before sunrise
 
      classname('morning_shade')[i].style.left= currents+"%";

      classname('dayshine')[i].style.left= sunrisecur+"%";
      classname('dayshine')[i].style.width= (100-sunrisecur)+(sunsetcur-100)+"%"; 
  } 


}
///////////////////////////////////////////////////////////////////////
// end doiteverysecond()  end doiteverysecond()  end doiteverysecond()  
///////////////////////////////////////////////////////////////////////









//////////////////////
// DOMContentLoaded
/////////////////////
document.addEventListener('DOMContentLoaded', function() {      // do next when document is loaded

    // https://github.com/loebi-ch/jquery-clock-timepicker
    $('#ontime').clockTimePicker({alwaysSelectHoursFirst:true,labeltext:"<font style='font-size: 15px;'> ON time</font><br>"});  // activate analog timepicker popup for id ontime text field
    $('#offtime').clockTimePicker({alwaysSelectHoursFirst:true,labeltext:"<font style='font-size: 15px;'> OFF time</font><br>"}); // activate analog timepicker popup for id offtime text field
        
    dragElement(id("editpopup"));            // make editpopup draggable by mouse and touch

    drawtemp();
    domessage();
    showhideeditpopup();
    drawtimeslots();

    // select day, set radio day to today,  makes label for radiobutton green
    var daynr=new Date().getDay();                  // 0=sunday ... 6=saturday
    if (daynr==0)daynr=7;          
    console.log("daynr ",daynr);
    // $('.radioday')[daynr-1].checked="true";                                // jquery
    classname('radioday')[daynr-1].checked="true";      // javascript
    // 0=monday ... 6=sunday
    checkit();

    setInterval(doiteverysecond, 1000); // Milliseconds  call function doiteverysecond() every second

   

}, false);     
//////////////////////
// END DOMContentLoaded
/////////////////////



/////////////////////////////
// show or hide About popup
////////////////////////////
function showhideabout() {
  if (id("aboutDIV").style.display === "none") {
    id("aboutDIV").style.display = "block";
     // should be something to block scrolling of body 
     // only popup scroll
     // https://codepen.io/anon/pen/oEMmrm
  } else {
    id("aboutDIV").style.display = "none";
  }
}



/////////////////////////////////////////////////////////////////////
// Make the DIV add or edit popup element draggable:
// https://www.w3schools.com/howto/tryit.asp?filename=tryhow_js_draggable
// touch should be added == think it works , touch me
// https://stackoverflow.com/questions/56703458/how-to-make-a-draggable-elements-for-touch-and-mousedrag-events
// https://codepen.io/ldijkman/pen/abQxbdM
//////////////////////////////////////////////////////////////////////
function dragElement(elmnt) {
  let pos1 = 0,
      pos2 = 0,
      pos3 = 0,
      pos4 = 0;

  let dragHandle = id("editpopupheader");

  if (dragHandle !== undefined) {
    // if present, the header is where you move the DIV from:
    dragHandle.onmousedown = dragMouseDown;
    dragHandle.ontouchstart = dragMouseDown; //added touch event
  } else {
    // otherwise, move the DIV from anywhere inside the DIV:
    elmnt.onmousedown = dragMouseDown;
    elmnt.ontouchstart = dragMouseDown; //added touch event
  }

  function dragMouseDown(e) {
    e = e || window.event;
    e.preventDefault();

    //Get touch or click position
    //https://stackoverflow.com/a/41993300/5078983
    if (
      e.type == "touchstart" ||
      e.type == "touchmove" ||
      e.type == "touchend" ||
      e.type == "touchcancel"
    ) {
      let evt = typeof e.originalEvent === "undefined" ? e : e.originalEvent;
      let touch = evt.touches[0] || evt.changedTouches[0];
      x = touch.pageX;
      y = touch.pageY;
    } else if (
      e.type == "mousedown" ||
      e.type == "mouseup" ||
      e.type == "mousemove" ||
      e.type == "mouseover" ||
      e.type == "mouseout" ||
      e.type == "mouseenter" ||
      e.type == "mouseleave"
    ) {
      x = e.clientX;
      y = e.clientY;
    }

    console.log("drag start x: " + x + " y:" + y);

    // get the mouse cursor position at startup:
    pos3 = x;
    pos4 = y;
    document.onmouseup = closeDragElement;
    document.ontouchend = closeDragElement;
    // call a function whenever the cursor moves:
    document.onmousemove = elementDrag;
    document.ontouchmove = elementDrag;
  }
  function elementDrag(e) {
    e = e || window.event;
    e.preventDefault();

    //Get touch or click position
    //https://stackoverflow.com/a/41993300/5078983
    if (
      e.type == "touchstart" ||
      e.type == "touchmove" ||
      e.type == "touchend" ||
      e.type == "touchcancel"
    ) {
      let evt = typeof e.originalEvent === "undefined" ? e : e.originalEvent;
      let touch = evt.touches[0] || evt.changedTouches[0];
      x = touch.pageX;
      y = touch.pageY;
    } else if (
      e.type == "mousedown" ||
      e.type == "mouseup" ||
      e.type == "mousemove" ||
      e.type == "mouseover" ||
      e.type == "mouseout" ||
      e.type == "mouseenter" ||
      e.type == "mouseleave"
    ) {
      x = e.clientX;
      y = e.clientY;
    }

    // calculate the new cursor position:
    pos1 = pos3 - x;
    pos2 = pos4 - y;
    pos3 = x;
    pos4 = y;
    // set the element's new position:
    elmnt.style.top = elmnt.offsetTop - pos2 + "px";
    elmnt.style.left = elmnt.offsetLeft - pos1 + "px";
  }

  function closeDragElement() {
    console.log("drag end x: " + pos3 + " y:" + pos4);
    // stop moving when mouse button is released:
    document.onmouseup = null;
    document.ontouchcancel = null;                      // added touch event
    document.ontouchend = null;                         // added touch event
    document.onmousemove = null;
    document.ontouchmove = null;                        // added touch event

    selected_highlight=-1;                              // erase edit timeslot highlight
  }
} // end function dragMouseDown(e) {

</script>






<!--
  ///////////////////////////
  // begin editpopup HTML 
  //////////////////////////
  -->
<div id="editpopup">
 <div id="editpopupheader" class="drag-handle"> 
    <div id="closeedit">Please Drag Me ?<button onclick="showhideeditpopup()" style="border-color:red; color:red;position:absolute;left:85%;">
      <b>X</b></button>
    </div>
 </div>
  <br>
 <div id="addoredit">add / edit  a time slot<!--this text will be changed to add or edit--></div><br>

  &nbsp;&nbsp;<input type="text" class="ontime"  id="ontime" readonly style="color:green;" size="6"   oninput="drawtemp()"  value="07:30" onchange="drawtemp();console.log('Time changed to: ' + this.value)"/>
<input type="text" class="offtime"  id="offtime" readonly style="color:red;" size="6"   oninput="offtimechange();drawtemp()"  value="16:30" change="offtimechange();" onchange="offtimechange();drawtemp();console.log('Time changed to: ' + this.value)"/>
&nbsp;&nbsp;<br><br>
<input type="button" value="Cancel" onclick="cancelbutton()">    
<input type="button" value="Save" onclick="savetimeslot()">
<br><br> 
<input type="button" id="deletebutton" value="Delete" onclick="deletebutton()"> 
<br><br>
<font color="green"">
<small>Touch drag is Working ;-) ???</small>
</font>
<br>
</div>
</div>
<!--
  ////////////////////////
  // end editpopup HTML
  ///////////////////////
  -->


<!--
  ////////////////////////
  // begin aboutdiv HTML
  ///////////////////////
  -->

  <div id="aboutDIV" style="position: fixed;
  width: 98%;
  top:0%;
  padding: 10px 0;
  text-align: center;
  background-color: lightgray;borderColor:black;border:5px solid;border-radius:10px;
  margin-top: 10px;display:none;z-index:1001;overflow-y:scroll; height:100%;overscroll-behavior: contain;">
 
 <div id="closeit" style="
 position: fixed;
 display: absolute;
 float:right;right: 2em;">
    <button onclick="showhideabout()" style="border-color:red; color:red;"><b>X</b></button>
  </div><h1>Visual Scheduler / Graphical Scheduler</h1>
  
  <br>Visual TimeSlot Scheduler<br>
Easy Set and Overview Scheduled timeslots<br>
Touch Friendly Scheduler<br>
<br>
Create a scheduler from scratch <br>
(a bit like Plasma-Cloud WiFi POE Scheduler / Apple Elgato Eve Schedule)<br>
<br>
Visual Scheduler for irrigation, sprinklers, lights, wifi relays, wifi switches<br>
  irrigation Scheduler, Sprinkler Scheduler, Light Scheduler, WiFi relays Scheduler, WiFi switches Scheduler<br> 
  Time Activated Relays - Relay Control on a Schedule<br>
  daily scheduler, weekly scheduler, timed switching<br>
  visual timed automation, etcetera <a href="https://www.youtube.com/watch?v=mfJhMfOPWdE" target="blahblah">BlahBlah!</a><br>
  <br>
  Youtube Video <a href="https://youtu.be/GQpa_UIErT0" target="youtube">https://youtu.be/GQpa_UIErT0</a><br>
  Do not forget to Subsribe? ;-)<br>
  Better Youtube Video <a href="https://youtu.be/17K2TtYPI_A" target="youtube">better youtube video, served from ESP32 ace editor websockets</a><br>
  Do not forget to Subsribe? ;-)<br>
  <br>
  <a href="https://youtu.be/Uy8vY94GGuE" target="phonehome">youtube video => Add icon link to phone home screen</a><br>
  <br>  
  <br>
  <center>
  <hr>
   Sources used<br>
   <hr>
  <a href="https://plugins.slyweb.ch/jquery-clock-timepicker" target="jquery-clock-timepicker">plugins.slyweb.ch/jquery-clock-timepicker</a>
  <br><br>
  <a href="https://github.com/mourner/suncalc" target="suncalc">github.com/mourner/suncalc</a>
  <br><br>
  <a href="https://github.com/kaimallea/isMobile" target="ismobile">github.com/kaimallea/isMobile</a>
  <br><br>
  <a href="https://www.w3schools.com" target="w3schools">www.w3schools.com</a>
  <br><br>
  <a href="https://stackoverflow.com" target="stackoverflow">stackoverflow.com</a><br>
  <br>


  <hr>
  <br>
  open HTML/CSS/Javascript, not closed like apps with wifi wall switches<br>
  Possble to Edit it with Ace editor on ESP8266 / ESP32 webserver<br>
  <br>
  on phone<br>
  from browser, save to phone home screen<br>
  and it almost looks like an app without the addres location bar<br>
  <br>
  <br>
  <a href="https://facebook.com/luberth.dijkman" target="facebook">facebook.com/luberth.dijkman</a><br>
  <br>
  <a href="https://github.com/ldijkman/randomnerd_esp32_wifi_manager/tree/main/docs/mrs" target="mrs_github">github mrs visual scheduler</a><br>
  <br>
  <a href="https://plnkr.co/edit/p7xyOMhDtuTc49aZ" target="plunker">//plnkr.co/edit/p7xyOMhDtuTc49aZ</a><br>
  <br>
  <a href="https://github.com/ldijkman/randomnerd_esp32_wifi_manager/discussions" target="discussions">github discussions</a><br>
  <br>
  Sorry for the kindergarden aged, there is no AM/PM<br>
  <br>
  <br>
  Free for personal use.<br> 
  Not free for commercial use.<br>
  Copyright Dirk Luberth Dijkman 2023 ... <script>document.write(new Date().getFullYear())</script><br> 
  <br>
  <br>
  <button onclick="showhideabout()" style="color:green;">Accept!</button><br>
  <br><br><br><br><br><br><br><br>
</div>

  <div id="about" style="position: fixed; top: 1em; right: 1em;">
    <button onclick="showhideabout()" style="border-color:green; color:green;"><b>?</b></button>
  </div>
<!--
  //////////////////////
  // end  aboutdiv HTML
  //////////////////////
  -->

<br><br>

<input type="button" onclick="showhideabout()" value="About"><br>
                                                            
<!-- Copyright Dirk Luberth Dijkman 2023 -->
<br><br>
<small><small><small>
Free for personal use.<br> 
Not free for commercial use.<br>
Copyright Dirk Luberth Dijkman 2023 ... <script>document.write(new Date().getFullYear())</script></small></small></small>
<!-- https://stackoverflow.com/questions/4562587/shortest-way-to-print-current-year-in-a-website -->


<br><br>
<!--
webcam for sound in my youtune videos screen recordings<br>
-->
<button class="btn btn-primary" id="button">Display Webcam feed in Picture-in-Picture mode</button> 
<script>
const button = document.getElementById('button');

button.addEventListener('click', async () => {
  const video= document.createElement('video');
  //video.muted = true;
  video.srcObject = await navigator.mediaDevices.getUserMedia({ video: true });
  video.play();
  video.addEventListener('loadedmetadata', () => {
    video.requestPictureInPicture()
    .catch(console.error)
  });
});
    </script>
</body>
</html>


<!--
David Bird G6EJD would say it like next:

This software, the ideas and concepts is Copyright (c) Dirk Luberh Dijkman Bangert 30 Andijk The Netherlands 2023 and beyond.
All rights to this software are reserved.

***DO NOT USE THIS SOFTWARE IF YOU CAN NOT AGREE TO THESE LICENCE TERMS ***

It is prohibited to redistribute or reproduce of any part or all of the software contents in any form other than the following:
 1. You may print or download to a local hard disk extracts for your personal and non-commercial use only.
 2. You may copy the content to individual third parties for their personal use, but only if you acknowledge the author Dirk Luberth Dijkman as the source of the material.
 3. You may not, except with my express written permission, distribute or commercially exploit the content.
 4. You may not transmit it or store it in any other website or other form of electronic retrieval system for commercial purposes.
 5. You MUST include all of this copyright and permission notice ('as annotated') and this shall be included in all copies or substantial portions of the software and where the software use is visible to an end-user.
 
THE SOFTWARE IS PROVIDED "AS IS" FOR PRIVATE USE ONLY, IT IS NOT FOR COMMERCIAL USE IN WHOLE OR PART OR CONCEPT.

FOR PERSONAL USE IT IS SUPPLIED WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.

IN NO EVENT SHALL THE AUTHOR OR COPYRIGHT HOLDER BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

Elon Musk do not use this scheduler to launch your trip to Mars


https://search.google.com/test/mobile-friendly?url=https%3A%2F%2Fldijkman.github.io%2Frandomnerd_esp32_wifi_manager%2Fmrs%2Fcreate_from_scratch%2Findex.html
-->




</textarea>

    </div>
    <div id="minimapeditor" title="double click should set editor to that position">
        <p style="background-color:grey;">
        <a href="https://plnkr.co/plunk/dqcdy6hSIj8lU0jg" target="ace_editor_minimap">
        <h3><center>
          <br>
          hello<br>
          welcome<br>
          <br><br>reload<br>10<br>seconds<br><br>
      plnkr<br>
      minimap<br>
         hi<br>
          hello<br>
          welcome<br>
      plnkr<br>
      minimap<br>
         hi<br>
          hello<br>
          welcome<br>
      plnkr<br>
      minimap<br>
         hi<br>
          hello<br>
          welcome<br>
      plnkr<br>
      minimap<br>
         hi<br>
          hello<br>
          welcome<br>
      plnkr<br>
      minimap<br><br>reload<br>10<br>seconds<br>
      </h3>
      </a>
      </p>

      </div>
 
    <div id="iframediv">
      

      <div id="drag"></div>
      <hr>
      <input type="button" onclick="isResizing=true;" value="resize window with this test button">
      Resize is not working  after i added float div drag menu<br>
      hmmm, the menu drag is working over the preview iframe and youtube iframes<br>
      because of the top menu bar overlay i think<br
      <<==mouse drag on border to resize Editor / Preview
      <center>
      over this <a href="https://www.youtube.com/watch?v=7NN3gsSf-Ys" target="prince" title="Prince Purrple Rain SuperBowl">purple</a> area<br>
      over the preview iframe it does not work<br>
      to get the mouse x positon? i think!<br> 
      <a href="https://run.plnkr.co/plunks/7zSWRvsXITtckVxV/" target="test">test it at https://plnkr.co/plunk/7zSWRvsXITtckVxV</a><br>
      transparent overlay div???,  i do not know, My Friend ;-), Can you help me?<br>
      <button onclick="var ifr=document.getElementsByName('Right')[0]; ifr.src='type should do';">Refresh Iframe</button>
<input type="button" value="Preview" onClick="updatefrombutton();" title="reload by button if checkbox is off"></label>
      </center> 
      <hr>
      <iframe id="iframe" name="Right" frameborder="0"></iframe>
      
    </div>


    <div id="preview" style="display:none"></div>

    <iframe id="download-frame" style="display:none"></iframe>

  </div>

  <script>
    am = document.getElementById('ace-mode');
    am.addEventListener('change', function(e) {
      console.log((document.getElementById('ace-mode').value).toLowerCase());
      e.preventDefault();
      ace.edit("editor").getSession().setMode('ace/mode/' + (document.getElementById('ace-mode').value).toLowerCase());
    });
    at = document.getElementById('ace-theme');
    at.addEventListener('change', function(e) {
      console.log((document.getElementById('ace-theme').value).toLowerCase());
      e.preventDefault();
      ace.edit("editor").setTheme('ace/theme/' + (document.getElementById('ace-theme').value).toLowerCase());
    });
    ////////////// open filename in a new browser windoww /////////////////////////////////////////////
    www = document.getElementById('webbutton');
    www.addEventListener('click', function(e) {
      e.preventDefault();
      //window.open( document.getElementById('editor-filename').value;, '_blank')"
      window.open("." + document.getElementById('editor-filename').value + "");
      //alert(document.getElementById('editor-filename').value);
      //alert(document.body.style.zoom).text;
    });
    ///////////////// checkbox editor 505 100% toggle /////////////////////////////////////////////////
    checkbox = document.getElementById('fulledit');
    checkbox.addEventListener('change', e => {
      if (e.target.checked) {
        document.getElementById('editor').style.width = '50%';
      }
      if (!e.target.checked) {
        document.getElementById("Preview").checked = false;
        document.getElementById('editor').style.width = '100%';
      }
    });
    /////////////// copy color hex value to clipboard shoud work on http:// connection /////////////////////////////
    // https://codepen.io/fabean/pen/GprQJa
    // https://codepen.io/ldijkman/pen/VwXPrWo
    let button = document.getElementById('copy-button');
    button.addEventListener('click', function(e) {
      e.preventDefault();
      document.execCommand('copy', false, document.getElementById('to-select-text').select());
    });
    /*
    Code Source來源:
    https://developer.mozilla.org/en-US/docs/Web/API/Fullscreen_API
    https://codepen.io/jackliangtw/pen/yLVPQNB
    */
    //document.addEventListener("keypress", function(e) {
    //if (e.keyCode === 13) {
    //  toggleFullScreen();
    //}
    //}, false);
    function toggleFullScreen() {
      if (!document.fullscreenElement) {
        document.documentElement.requestFullscreen();
      } else {
        if (document.exitFullscreen) {
          document.exitFullscreen();
        }
      }
    }
    // https://ldijkman.github.io/Electra/  
    function suggestonoff() { // toggle autocomplete suggest button
      if (ace.edit("editor").getOption("enableLiveAutocompletion") == true) {
        ace.edit("editor").setOptions({
          enableLiveAutocompletion: false
        });
        document.getElementById("butsuggest").style = "background-color:#FFDACAFF;" //redisch
      } else {
        ace.edit("editor").setOptions({
          enableLiveAutocompletion: true
        });
        document.getElementById("butsuggest").style = "background-color:#CAFFC8FF;" //greenisch
      }
      console.log(ace.edit("editor").getOption("enableLiveAutocompletion"));
    }
    if (ace.edit("editor").getOption("enableLiveAutocompletion") == true) {
      ace.edit("editor").setOptions({
        enableLiveAutocompletion: false
      });
      document.getElementById("butsuggest").style = "background-color:#FFDACAFF;" //redisch
    } else {
      ace.edit("editor").setOptions({
        enableLiveAutocompletion: true
      });
      document.getElementById("butsuggest").style = "background-color:#CAFFC8FF;" //greenisch
    }

    function pretty() {
      var beautify = ace.require("ace/ext/beautify"); // get reference to extension
      var editor = ace.edit("editor"); // get reference to editor
      beautify.beautify(editor.session);
    }
    document.onreadystatechange = function() {
      if (document.readyState !== "complete") {
        if (ace.edit("editor").getOption("enableLiveAutocompletion") == false) {
          document.getElementById("butsuggest").style = "background-color:#FFDACAFF;" //redisch
        } else {
          document.getElementById("butsuggest").style = "background-color:#CAFFC8FF;" //greenisch
        }
      }
    };
  </script>

  <!-- 
https://ldijkman.github.io/Electra/ 
Copyright Electra 2022
-->

  <!-- 
https://ldijkman.github.io/Electra/ 
Copyright Electra 2022
-->



<script>
// https://plnkr.co/edit/7zSWRvsXITtckVxV //
var isResizing = true;

(function() {
  var container = document.getElementById("container"),
    left = document.getElementById("editor"),
    right = document.getElementById("iframediv"),
    handle = document.getElementById("drag");

  handle.onmousedown = function(e) {
    console.log("drag it 2 resize view 1");
    var isResizing = true;
  };

  document.onmousemove = function(e) {
    // we don't want to do anything if we aren't resizing.
   console.log("isResizing 1");  
   if (isResizing) {
  console.log("isResizing 2");  
    var offsetRight = container.clientWidth - (e.clientX - container.offsetLeft);
    left.style.right = offsetRight + "px";
    right.style.width = offsetRight + "px";
    }
    return;
    }
  
  document.addEventListener("nmouseup", mouseup);


function mouseup() {
 isResizing = false;
}

  document.onmouseup = function(e) {
    // stop resizing
    isResizing = false;
  }
})();
</script>
<script src="colorpicker.js"></script>
<!-- // .js   where can i find a server to host js files (my github is flagged/blocked)  -->
<script>
function goup(row){
  console.log("function gowp() row = ", row);
  // sort the array in value followong order
      marked_line_nr_array.sort(function(a, b) {
      return a - b;
    }); // sort the array marked lines nubers by value
    // numerically following order ascending???
    // document.getElementById("textout").innerHTML="go up pressed";
     console.log("JumpScroll up pressed scrollto previous marked line, up from row ",row+1);
     console.log("marked_line_nr_array ",marked_line_nr_array);
    let index=marked_line_nr_array[marked_line_nr_array.indexOf(row+1)-1];
    console.log("previous is ",index);

if (typeof(index) != "undefined"){
   ace.edit("editor").scrollToLine(index, true, true, );
   ace.edit("editor").gotoLine(index, 0, true);
}else{console.log("Nothing to go to, The End");}
}


function godown(row){
  console.log("function godown() row = ", row);
  // sort the array in value followong order
       marked_line_nr_array.sort(function(a, b) {
      return a - b;
    }); // sort the array marked lines nubers by value
  // numerically following order ascending???
  // document.getElementById("textout").innerHTML="go down pressed";
   console.log("JumpScroll down pressed scrollto next marked line, down from ",row+1);
   console.log("marked_line_nr_array ",marked_line_nr_array);


 let index=marked_line_nr_array[marked_line_nr_array.indexOf(row+1)+1];
  console.log("next is ",index);

if (typeof(index) != "undefined"){
   ace.edit("editor").scrollToLine(index, true, true, );
   ace.edit("editor").gotoLine(index, 0, true);
}else{console.log("Nothing to go to, The End");}
}


const el = document.getElementsByClassName('ace_gutter-cell');

const hiddenDiv = document.getElementById('mydiv');

// ✅ Show hidden DIV on hover
el[0].addEventListener('mouseover', function handleMouseOver() {
  hiddenDiv.style.display = 'block';

  // 👇️ if you used visibility property to hide div
  // hiddenDiv.style.visibility = 'visible';
});

// ✅ (optionally) Hide DIV on mouse out
el[0].addEventListener('mouseout', function handleMouseOut() {
  hiddenDiv.style.display = 'none';

  // 👇️ if you used visibility property to hide div
  // hiddenDiv.style.visibility = 'hidden';
});
</script>


<script>
  // Make the DIV element draggable:
dragElement(document.getElementById("mydivmenu"));

function dragElement(elmnt) {
  var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
  console.log("dragElement(elmnt)");
  if (document.getElementById("mydivheader")) {
    // if present, the header is where you move the DIV from:
    document.getElementById("mydivheader").onmousedown = dragMouseDown;
  
  } else {
    // otherwise, move the DIV from anywhere inside the DIV:
    //elmnt.onmousedown = dragMouseDown;
  
    //elmnt.onmousedown = dragMouseDown;
  }

  function dragMouseDown(e) {

console.log(" function dragMouseDown(e) ");
    e = e || window.event;
    e.preventDefault();
    // get the mouse cursor position at startup:
    pos3 = e.clientX;
    pos4 = e.clientY;
    document.onmouseup = closeDragElement;
    // call a function whenever the cursor moves:
    document.onmousemove = elementDrag;
  }
 
  function elementDrag(e) {
    console.log("function elementDrag(e)");
    e = e || window.event;
    e.preventDefault();
    // calculate the new cursor position:
    pos1 = pos3 - e.clientX;
    pos2 = pos4 - e.clientY;
    pos3 = e.clientX;
    pos4 = e.clientY;
    // set the element's new position:
    elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
    elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
  }

  function closeDragElement() {
    // stop moving when mouse button is released:
    document.onmouseup = null;
    document.onmousemove = null;
    console.log("closeDragElement");
   
  // https://www.w3schools.com/howto/howto_js_draggable.asp
  }
}
  //https://codepen.io/mutte79/pen/xxWVvgP



// https://www.w3schools.com/howto/howto_js_toggle_hide_show.asp
function showhidefloatingmenu() {
  var x = document.getElementById("mydivmenu");
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
}

// https://www.w3schools.com/howto/howto_js_toggle_hide_show.asp
function showhideminimap() {
  var x = document.getElementById("minimapeditor");
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
}

// https://www.w3schools.com/howto/howto_js_toggle_hide_show.asp
function showhtmltaglist() {
  document.getElementById("htmltaglist").style.display = "block";
  document.getElementById("csstaglist").style.display = "none";
  document.getElementById("javascripttaglist").style.display = "none";
}

// https://www.w3schools.com/howto/howto_js_toggle_hide_show.asp
function showcsstaglist() {
  document.getElementById("htmltaglist").style.display = "none";
  document.getElementById("csstaglist").style.display = "block";
  document.getElementById("javascripttaglist").style.display = "none";
}

// https://www.w3schools.com/howto/howto_js_toggle_hide_show.asp
function showjavascripttaglist() {
  document.getElementById("htmltaglist").style.display = "none";
  document.getElementById("csstaglist").style.display = "none";
  document.getElementById("javascripttaglist").style.display = "block";
}

// https://www.w3schools.com/howto/howto_js_toggle_hide_show.asp
function showhidehtmltaglist() {
    document.getElementById("csstaglist").style.display = "none";
  document.getElementById("javascripttaglist").style.display = "none";
  var x = document.getElementById("htmltaglist");
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
}

// https://www.w3schools.com/howto/howto_js_toggle_hide_show.asp
function showhidefigletgenerator() {
  
  var x = document.getElementById("figletgenerator");
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
}

// https://www.w3schools.com/howto/howto_js_toggle_hide_show.asp
function showhidetablegenerator() {
  var x = document.getElementById("tablegenerator");
  if (x.style.display === "none") {
    x.style.display = "block";
    document.getElementById("showhidetablegenerator").style.backgroundColor = "darkgrey";
  } else {
    x.style.display = "none";
    document.getElementById("showhidetablegenerator").style.backgroundColor = "orange";
  }
}

 function paste_time_date(){
   var date = new Date();
  var dayList = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
  var monthNames = ["January","February","March","April","May","June","July","August","September","October","November","December"];
  var dayName = dayList[date.getDay()];
  var monthName = monthNames[date.getMonth()];
  var today = `${dayName} ${date.getDate()} ${monthName} ${date.getFullYear()}`;

  var hour = date.getHours();
  var min = date.getMinutes();
  if(min<=9)min="0"+min;
  var sec = date.getSeconds();
  if(sec<=9)sec="0"+sec;

  var time = hour + ":" + min + ":" + sec;
  editor.session.insert(editor.getCursorPosition(), "DOY "+getDayOfYear(new Date())+" Week NR: "+date.getWeek()+" \n"+today+" "+time+" <br>\n "+document.location.href+" <br>\n");
 }


  

// https://weeknumber.com/how-to/javascript   
//To get the ISO week number (1-53) of a Date object, use date.getWeek().
//To get the corresponding four-digit year, use date.getWeekYear().

// This script is released to the public domain and may be used, modified and
// distributed without restrictions. Attribution not necessary but appreciated.
// Source: https://weeknumber.com/how-to/javascript

// Returns the ISO week of the date.
Date.prototype.getWeek = function() {
  var date = new Date(this.getTime());
  date.setHours(0, 0, 0, 0);
  // Thursday in current week decides the year.
  date.setDate(date.getDate() + 3 - (date.getDay() + 6) % 7);
  // January 4 is always in week 1.
  var week1 = new Date(date.getFullYear(), 0, 4);
  // Adjust to Thursday in week 1 and count number of weeks from date to week1.
  return 1 + Math.round(((date.getTime() - week1.getTime()) / 86400000
                        - 3 + (week1.getDay() + 6) % 7) / 7);
}

// Returns the four-digit year corresponding to the ISO week of the date.
Date.prototype.getWeekYear = function() {
  var date = new Date(this.getTime());
  date.setDate(date.getDate() + 3 - (date.getDay() + 6) % 7);
  return date.getFullYear();
}

// https://bobbyhadz.com/blog/javascript-get-number-of-day-in-year
 function getDayOfYear(date = new Date()) {
  const timestamp1 = Date.UTC(
    date.getFullYear(),
    date.getMonth(),
    date.getDate(),
  );
  const timestamp2 = Date.UTC(date.getFullYear(), 0, 0);

  const differenceInMilliseconds = timestamp1 - timestamp2;

  const differenceInDays = differenceInMilliseconds / 1000 / 60 / 60 / 24;

  return differenceInDays;
}

console.log("EggDate Day of Year ",getDayOfYear(new Date())); // 👉️ 32


  </script> 



  <br><br><br><br><br><br><br><br><br><br><br>
<div id="tablegenerator" style="display:none;">

<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>HTML Table Code Generator</title>
<script type="text/javascript">
<!--
/////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////
/////  Javascript-based HTML Table Code Generator Version 2.0                       /////
/////  Copyright (c) 2009 by Louis Lazaris.                                         /////
/////  You may copy this code and use it wherever you like,                         /////
/////  as long as you give me credit, provide a link back to my site,               /////
/////  and let me know if you make any modifications/improvements                   /////
/////  Report bugs in the comments at the link below.                               /////
/////  https://www.impressivewebs.com/javascript-powered-html-table-code-generator   /////
/////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////

function addLoadListener(fn)
{
	if (typeof window.addEventListener != 'undefined')
	{
	window.addEventListener('load', fn, false);
}
else if (typeof document.addEventListener != 'undefined')
{
	document.addEventListener('load', fn, false);
}
else if (typeof window.attachEvent != 'undefined')
{
	window.attachEvent('onload', fn);
}
else
{
	var oldfn = window.onload;
	if (typeof window.onload != 'function')
	{
	window.onload = fn;
	}
	else
	{
	window.onload = function()
	{
	oldfn();
	fn();
	};
	}
	}
}

addLoadListener(createCells);

function createCells() {

var myRows = document.getElementById("rows");
var myColumns = document.getElementById("columns");
var tableSummary = document.getElementById("table_summary");
var tableCaption = document.getElementById("table_caption");
var tableClass = document.getElementById("table_class");
var tableID = document.getElementById("table_id");
var cellsSubmit = document.getElementById("button_cells");
var numberPattern = /^(\(\d+\) ?)?(\d+[\- ])*\d+$/;
var cellsHolder = document.getElementById("cells_holder");
var buttonGenerateHolder = document.getElementById("button_generate_holder");
var myColumnsHTML = "";
var myRowsHTML = "";
var myTHCheckbox = document.forms["table_generator_form"]["TH"];
var codeResultHolder = document.getElementById("code_result");
var codeResult = document.getElementById("code_result_text");
var myFinalHTML = "";
var myTextAreaID = 1;
var THDone = 0;
var THFinal = "";
var tableClassValue = "";
var tableIDValue = "";
var myRadioValue = "";
var myRadioNone = document.getElementById("th_none");
var myRadioRow = document.getElementById("th_row");
var myRadioColumn = document.getElementById("th_column");
var myTableExtrasHolder = document.getElementById("table_extras_holder");
var myTableExtrasCheckbox = document.forms["table_generator_form"]["table_extras"];
var numericPattern = /\d/;
var myTab = "";

	cellsSubmit.onclick = function()
	{

	myColumnsHTML = "";
	myTextAreaID = 1;
	
	if (myRows.value == "" || /^\s+$/.test(myRows.value))
		{
		alert("Please enter number of Rows");
		return false;
		}

	if (numberPattern.test(myRows.value) == false || myRows.value > 50)
		{
		alert('Only numeric data below 50 allowed for Rows');
		return false;
		}

	if (myColumns.value == "" || /^\s+$/.test(myColumns.value))
		{
		alert("Please enter number of Columns");
		return false;
		}

	if (numberPattern.test(myColumns.value) == false || myColumns.value > 11)
		{
		alert('Only numeric data below 12 allowed for Columns');
		return false;
		}

	if (tableSummary.value == "" || /^\s+$/.test(tableSummary.value))
		{
		alert("Please enter a Summary for your table");
		return false;
		}

		for (r=0;r<myRows.value;r++)
		{
			for (c=0;c<myColumns.value;c++) 
			{
				myColumnsHTML += "<textarea rows='5' cols='15' id='text_box"+myTextAreaID+"'></textarea>";
				if(c+1 == myColumns.value) {
					myColumnsHTML = myColumnsHTML + "<br />";
				}
				myTextAreaID = myTextAreaID + 1;
			}
		}

	cellsHolder.innerHTML = myColumnsHTML;

	makeOpacityZero(cellsHolder.id);
	cellsHolder.style.display = "block";
	opacity(cellsHolder.id, 0, 100, 800);

	makeOpacityZero(buttonGenerateHolder.id);
	buttonGenerateHolder.style.display = "block";
	opacity(buttonGenerateHolder.id, 0, 100, 800);

	codeResultHolder.style.display = "block";
	codeResult.value = "";
	}
	
	var buttonGenerate = document.getElementById("button_generate");
	
	buttonGenerate.onclick = function (){
	
	if (myTableExtrasCheckbox.checked) {
		myTab = "	";
	}
	
	if (tableSummary.value == "" || /^\s+$/.test(tableSummary.value))
		{
		alert("Table Summary is required");
		return false;
		}

	if (tableID.value.indexOf(" ") !== -1)
		{
		alert("You cannot use a space in the Table ID");
		return false;
		}

	if (numericPattern.test(tableID.value.charAt("0")) == true)
		{
		alert("The Table ID cannot begin with a numeric character");
		return false;
		}

	for (var z=0; z < myTHCheckbox.length; z++) {
	if (myTHCheckbox[z].checked)
		{
			myRadioValue = myTHCheckbox[z].value;
		}
	}

	codeResult.value = "";
	THDone = 0;
	THFinal = "";
	tableClassValue = "";
	tableIDValue = "";

	if (tableClass.value !== "") {
		tableClassValue = " class=\""+tableClass.value+"\"";
	}

	if (tableID.value !== "") {
		tableIDValue = " id=\""+tableID.value+"\"";
	}
	
	myFinalHTML = "<table cellspacing=\"2\" style=\"border: 3px solid #CE5937;\" width=\"100%\" bgcolor=\"gray\" summary=\""+tableSummary.value+"\""+tableClassValue+tableIDValue+">\n";
	
	if (tableCaption.value !== "") {
	myFinalHTML += "	<caption>"+tableCaption.value+"</caption>\n";
	}
	var myIncrement = 1;
		for (r2=0;r2<myRows.value;r2++)
		{
			if (r2==0 && myTableExtrasCheckbox.checked) {
			myFinalHTML = myFinalHTML + "	<thead>\n		<tr>\n";
			}
			else
			{
			
				if (r2==myRows.value - 1 && myTableExtrasCheckbox.checked) {
				myFinalHTML = myFinalHTML + "	</tbody>\n	<tfoot>\n		<tr>\n";
				}
				else
				{
				myFinalHTML = myFinalHTML + "	" + myTab + "<tr>\n";
				}

			}
			
			for (c2=0;c2<myColumns.value;c2++) 
			{
				if (myRadioValue=="th_row_selected" && c2 < myColumns.value && THDone < myColumns.value + 1 && THFinal == "") {
					myFinalHTML += "		" + myTab + "<th>"+document.getElementById("text_box"+myIncrement).value+"</th>\n";
					THDone = THDone + 1;
					myIncrement = myIncrement + 1;
					if (THDone == myColumns.value) {
						THFinal = "end";
					}
				}
				else
				{
				if (c2==0 && myRadioValue=="th_column_selected") {
					myFinalHTML += "		" + myTab + "<th>"+document.getElementById("text_box"+myIncrement).value+"</th>\n";
					myIncrement = myIncrement + 1;
					}
					else
					{
				myFinalHTML += "		" + myTab + "<td bgcolor=\"\">"+document.getElementById("text_box"+myIncrement).value+"</td>\n";
				myIncrement = myIncrement + 1;
				}
				}
		}

			if (r2==0 && myTableExtrasCheckbox.checked) {
			myFinalHTML = myFinalHTML + "		</tr>\n	</thead>\n	<tbody>\n";
			}
			else
			{
			if (r2==myRows.value - 1 && myTableExtrasCheckbox.checked) {
			myFinalHTML = myFinalHTML + "		</tr>\n	</tfoot>\n";
			}
			else
			{
			myFinalHTML = myFinalHTML + "	" + myTab + "</tr>\n";
			}
			}
			
		}

		myFinalHTML = myFinalHTML + "</table>";

		makeOpacityZero(codeResult.id);
		codeResult.value = myFinalHTML;
		opacity(codeResult.id, 0, 100, 400);
		myTab = "";
//////////////////////////////////////////////////////////////////////////////////////////////////////////
    // ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), "\n<!-- Made By https://www.impressivewebs.com/javascript-powered-html-table-code-generator/ -->\n"+myFinalHTML+"\n<!-- https://run.plnkr.co/plunks/ZEkhoGgs4ntDZzT0/ -->\n"	);
	/////////////////////////////////////////////////////////////////////////////////////////////////
  }


document.getElementById("button_insert").onclick = function() {
   ace.edit("editor").session.insert(ace.edit("editor").getCursorPosition(), "\n<!-- Made By https://www.impressivewebs.com/javascript-powered-html-table-code-generator/ -->\n"+document.getElementById("code_result_text").value +"\n<!-- https://run.plnkr.co/plunks/ZEkhoGgs4ntDZzT0/ -->\n"	);
}
  
	
//	codeResult.onclick = function() {
//		this.select();		 
//	}
	
	myRadioRow.onclick = function() {
		myTableExtrasHolder.style.display = "block";
	}

	myRadioNone.onclick = function() {
		myTableExtrasCheckbox.checked = false;
		myTableExtrasHolder.style.display = "none";
	}

	myRadioColumn.onclick = function() {
		myTableExtrasCheckbox.checked = false;
		myTableExtrasHolder.style.display = "none";
	}
	
	myTableExtrasCheckbox.onclick = function () {
		if (myTableExtrasCheckbox.checked && myRows.value < 3) {
			alert('You must have more than 2 rows in order to have a TBODY');
			return false;
		}
	}

}

function opacity(id, opacStart, opacEnd, millisec) { 
    //speed for each frame 
    var speed = Math.round(millisec / 100); 
    var timer = 0; 

	//determine the direction for the blending, if start and end are the same nothing happens 
    if(opacStart > opacEnd) { 
        for(var i = opacStart; i >= opacEnd; i--) { 
            setTimeout("changeOpac(" + i + ",'" + id + "')",(timer * speed)); 
            timer++; 
        } 
    } else if(opacStart < opacEnd) { 
        for(i = opacStart; i <= opacEnd; i++) 
            { 
            setTimeout("changeOpac(" + i + ",'" + id + "')",(timer * speed)); 
            timer++; 
        } 
    } 
} 

//change the opacity for different browsers 
function changeOpac(opacity, id) { 
    var object = document.getElementById(id).style; 
    object.opacity = (opacity / 100); 
    object.MozOpacity = (opacity / 100); 
    object.KhtmlOpacity = (opacity / 100); 
    object.filter = "alpha(opacity=" + opacity + ")"; 
} 

function shiftOpacity(id, millisec) { 
    //if an element is invisible, make it visible, else make it ivisible 
    if(document.getElementById(id).style.opacity == 0) { 
        opacity(id, 0, 100, millisec); 
    } else { 
        opacity(id, 100, 0, millisec); 
    } 
}

function makeOpacityZero(id) {
	var thisZero = document.getElementById(id);
	thisZero.style.opacity = (0 / 100); 
	thisZero.style.MozOpacity = (0 / 100); 
	thisZero.style.KhtmlOpacity = (0 / 100); 
	thisZero.style.filter = "alpha(opacity=0)";
}
-->
</script>

<style type="text/css">
html, body, div,
h1, h2, p,
a, fieldset, form, label,
table, caption, tbody, tfoot, thead, tr, th, td {
	margin: 0;
	padding: 0;
	border: 0;
	font-weight: inherit;
	font-style: inherit;
	font-size: 100%;
	line-height: inherit;
	font-family: inherit;
	text-align: left;
	vertical-align: baseline;
}
a img, :link img, :visited img {
	border: 0;
}
table {
	border-collapse: collapse;
	border-spacing: 0;
}
ul {
	list-style: none;
}
q:before, q:after,
blockquote:before, blockquote:after {
	content: "";
}

html {
	width: 100%;
	text-align: center;
	background: #fff;
	font: normal 13px Arial, Helvetica, sans-serif;
	color: #636363;
	min-height: 100%;
	margin: 0 0 1px 0;
}

body {
	font: normal 13px Arial, Helvetica, sans-serif;
	width: 100%;
	margin: auto;
	color: #636363;
}

form {
	overflow: hidden;
	padding: 20px;
	position: relative;
}

form label {
	float: left;
	width: 250px;
	text-align: right;
	padding: 0 10px 0 0;
	height: 25px;
}

form input.txt {
	height: 15px;
	font-size: 13px;
	color: #636363;
	border: solid 1px #bbb;
	float: left;
}

textarea {
	border: solid 1px #ccc;
	color: #777;
	font-family: Arial, Helvetica, sans-serif;
	font-size: 13px;
	width: 120px;
	height: 100px;
}

form div {
	clear: left;
	float: left;
}

#cells_holder {
	display: none;
	background: #fff;
}

#button_cells {
	height: auto;
	width: 250px;
	border: solid 1px #ccc;
	background: #777;
	color: #fff;
	margin: 0 0 20px 100px;
	font-size: 13px;
	padding: 2px 4px 2px 4px;
}

#button_generate_holder {
	display: none;
	background: #fff;
}
	
#button_generate {
	height: auto;
	border: solid 1px #ccc;
	background: #777;
	color: #fff;
	margin: 15px 0 20px 100px;
	font-size: 13px;
	padding: 2px 4px 2px 4px;
	width: 250px;
}

#code_result {
	display: none;
	overflow: hidden;
}

#code_result_text {
	width: auto;
	height: auto;
}

h1 {
	font-family: "Times New Roman", Times, serif;
	font-size: 24px;
	color: #888;
	padding: 0 0 15px 70px;
	font-weight: normal;
}

h2 {
	font-family: "Times New Roman", Times, serif;
	font-size: 24px;
	color: #888;
	font-weight: normal;
}

#table_extras_holder {
	display: none;
	overflow: hideen;
}

#instructions {
	position: absolute;
	top: 0;
	left: 500px;
	width: 450px;
	border: solid 1px #c2c2c2;
	padding: 20px;
	margin: 24px 0 0 0;
}

ol {
	margin-bottom: 4px;
}

ol li {
	padding: 3px 0 3px 0;
}

</style>

</head>
<body>
<div>
<form id="table_generator_form" action="index.html" method="get">



<h1>HTML Table Code Generator 2.0
  <input
        type="button"
        id="showhidetsgeneratorondi"
        onclick="showhidetablegenerator()"
        value="Hide [X]"
        style="background-color: yellow;color:black;font-weight:bold;z-index:30;"
        title="show hide table generator"></h1>
</h1>
	<div>
	<label for="rows">Number of Rows:heigth</label> <input type="text" id="rows" value="2" size="2" maxlength="2" class="txt" />
	</div>
	
	<div>
	<label for="columns">Number of Columns:width::</label> <input type="text" id="columns" value="5" size="2" maxlength="2" class="txt" />
	</div>
	
	<div>
	<label for="table_summary">Table Summary: (for screen readers)</label> <input type="text" value="Table Summary" id="table_summary" class="txt" />
	</div>
	
	<div>
	<label for="table_caption">Table Caption: (optional)</label> <input type="text" id="table_caption" value="Table Caption" class="txt" />
	</div>
	
	<div>
	<label for="table_class">CSS Class Name for Table: (optional)</label> <input type="text" id="table_class" value="Table_class" class="txt" />
	</div>
	
	<div>
	<label for="table_id">CSS ID for Table: (optional)</label> <input type="text" id="table_id" value="Table_id" class="txt" />
	</div>

	<div>
	<label for="th_none">No &lt;th&gt;</label> <input type="radio" name="TH" id="th_none" value="th_none_selected" class="checkbox" checked="checked" />
	</div>
	
	<div>
	<label for="th_row">First row as &lt;th&gt;</label> <input type="radio" name="TH" id="th_row" value="th_row_selected" class="checkbox" /> 
	</div>
	
	<div id="table_extras_holder">
	<label for="table_extras">Include &lt;tbody&gt;, &lt;thead&gt;, &amp; &lt;tfoot&gt;	</label> <input type="checkbox" name="table_extras" id="table_extras" value="table_extras_selected" /> 
	</div>

	<div>
	<label for="th_column">First column as &lt;th&gt;</label> <input type="radio" name="TH" id="th_column" value="th_column_selected" class="checkbox" />
	</div>
	
	<div id="button_cells_holder">
    <input type="button" id="button_cells" value="Prepare Cells for Data Insertion" /><br>Edit the Table Cells?</div>
	
	<div id="cells_holder"></div><!-- cells holder ends -->

	<div id="button_generate_holder">
    <input type="button" id="button_generate" value="Generate Table Code" /><br>	
    <div id="code_result">
      <textarea rows="25" cols="70" id="code_result_text"></textarea><br>
      <input type="button" id="button_insert" value="edit text area and click to insert in ace editor at cursor" /><br>
	  </div>
	</div>

	
	<div id="instructions">
	
	<h2>Instructions:</h2>
	
	<ol>
		<li>Enter number of Rows (between 1 - 50) and columns (1 - 11)</li>
		<li>Enter other parameters (Summary is required)</li>
		<li>Click the "Prepare Cells for Data Insertion" button </li>
		<li>Enter data into individual cells</li>
		<li>Click the "Generate Table Code" button</li>
		<li>Make modifications as necessary, then press "Generate..." button to include changes</li>
		<li>NOTE: If rows or columns are changed, the "Prepare Cells" button needs to be clicked again</li>
		<li>Offer suggestions for improvements on the <a href="https://www.impressivewebs.com/javascript-powered-html-table-code-generator/">original article</a></li>
	</ol>

	</div>
</form>
</div>

<script src="examples.js"></script> 

</body>
</html>
</div>
<!-- 
https://ldijkman.github.io/Electra/ 
Copyright Electra Electric Storm 2022
-->
<a href="https://www.digitalocean.com/?refcode=8cb785dbd1e7&utm_campaign=Referral_Invite&utm_medium=Referral_Program&utm_source=badge"><img src="https://web-platforms.sfo2.cdn.digitaloceanspaces.com/WWW/Badge%201.svg" alt="DigitalOcean Referral Badge" /></a>

